<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ton Brainlag</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', sans-serif;
      background: #0a0a0a;
      color: #f0f0f0;
      min-height: 100vh;
      padding: 20px;
    }

    .container {
      max-width: 680px;
      margin: 0 auto;
      padding: 40px 20px;
    }

    .quiz-section { display: block; }
    .result-section { display: none; }

    h1 {
      font-size: 1.8rem;
      text-align: center;
      margin-bottom: 10px;
      letter-spacing: 1px;
    }

    .subtitle {
      text-align: center;
      color: #888;
      margin-bottom: 40px;
      font-size: 0.95rem;
      line-height: 1.6;
    }

    .question-block {
      margin-bottom: 36px;
    }

    .question-text {
      font-size: 1rem;
      font-weight: 600;
      margin-bottom: 14px;
      color: #e0e0e0;
      padding-bottom: 8px;
      border-bottom: 1px solid #222;
    }

    .question-number {
      color: #666;
      font-size: 0.8rem;
      margin-bottom: 6px;
    }

    .options {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .option-btn {
      background: #111;
      border: 1px solid #2a2a2a;
      color: #ccc;
      padding: 12px 16px;
      border-radius: 10px;
      cursor: pointer;
      text-align: left;
      font-size: 0.92rem;
      transition: all 0.2s;
    }

    .option-btn:hover {
      border-color: #555;
      color: #fff;
      background: #1a1a1a;
    }

    .option-btn.selected {
      border-color: var(--accent, #6366f1);
      color: #fff;
      background: #1a1a2e;
    }

    .progress-bar {
      width: 100%;
      height: 3px;
      background: #1a1a1a;
      border-radius: 2px;
      margin-bottom: 40px;
    }

    .progress-fill {
      height: 100%;
      background: #6366f1;
      border-radius: 2px;
      transition: width 0.4s ease;
    }

    .submit-btn {
      display: block;
      width: 100%;
      padding: 16px;
      background: #6366f1;
      color: white;
      border: none;
      border-radius: 12px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      margin-top: 30px;
      transition: opacity 0.2s;
    }

    .submit-btn:hover { opacity: 0.85; }
    .submit-btn:disabled { opacity: 0.3; cursor: not-allowed; }

    /* â”€â”€ RÃ‰SULTATS â”€â”€ */
    .result-section {
      animation: fadeIn 0.5s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .character-img {
      width: 140px;
      height: 140px;
      border-radius: 50%;
      object-fit: cover;
      display: block;
      margin: 0 auto 20px;
      border: 3px solid var(--profile-color, #6366f1);
      box-shadow: 0 0 20px var(--profile-color, #6366f1);
    }

    .profile-title {
      font-size: 1.6rem;
      font-weight: 700;
      text-align: center;
      margin-bottom: 6px;
    }

    .profile-subtitle {
      text-align: center;
      color: #888;
      font-size: 0.9rem;
      margin-bottom: 24px;
    }

    .tag {
      display: inline-block;
      padding: 4px 12px;
      border-radius: 20px;
      font-size: 0.75rem;
      font-weight: 600;
      margin-bottom: 16px;
      letter-spacing: 0.5px;
    }

    .tag-primary {
      background: #1a1a2e;
      color: #818cf8;
      border: 1px solid #3730a3;
    }

    .tag-secondary {
      background: #0f1f1a;
      color: #34d399;
      border: 1px solid #065f46;
    }

    .tag-mix {
      background: #1f1a0f;
      color: #fbbf24;
      border: 1px solid #92400e;
    }

    .section-label {
      font-size: 0.78rem;
      font-weight: 700;
      letter-spacing: 1px;
      text-transform: uppercase;
      color: #666;
      margin-bottom: 8px;
      margin-top: 20px;
    }

    .section-content {
      font-size: 0.95rem;
      line-height: 1.7;
      color: #ccc;
    }

    .divider {
      border: none;
      border-top: 1px solid #1e1e1e;
      margin: 28px 0;
    }

    .score-bar-wrap {
      margin: 10px 0 20px;
    }

    .score-bar {
      width: 100%;
      height: 6px;
      background: #1a1a1a;
      border-radius: 3px;
      overflow: hidden;
    }

    .score-bar-fill {
      height: 100%;
      border-radius: 3px;
      transition: width 0.8s ease;
    }

    .reboot-list {
      list-style: none;
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-top: 8px;
    }

    .reboot-list li {
      background: #111;
      border: 1px solid #222;
      border-radius: 10px;
      padding: 12px 16px;
      font-size: 0.92rem;
      color: #ccc;
      line-height: 1.6;
    }

    .reboot-list li::before {
      content: "â†’ ";
      color: #6366f1;
      font-weight: 700;
    }

    .mix-card {
      background: #111;
      border: 1px solid #2a2a1a;
      border-radius: 14px;
      padding: 20px;
      margin-top: 8px;
    }

    .action-buttons {
      display: flex;
      gap: 12px;
      margin-top: 32px;
      flex-wrap: wrap;
    }

    .btn-share {
      flex: 1;
      padding: 13px;
      background: #1a1a2e;
      color: #818cf8;
      border: 1px solid #3730a3;
      border-radius: 10px;
      cursor: pointer;
      font-size: 0.9rem;
      font-weight: 600;
      transition: all 0.2s;
    }

    .btn-restart {
      flex: 1;
      padding: 13px;
      background: #111;
      color: #666;
      border: 1px solid #222;
      border-radius: 10px;
      cursor: pointer;
      font-size: 0.9rem;
      font-weight: 600;
      transition: all 0.2s;
    }

    .btn-share:hover { background: #1e1e3f; }
    .btn-restart:hover { color: #aaa; border-color: #444; }

    .char-img-secondary {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      object-fit: cover;
      display: block;
      margin: 0 auto 12px;
      border: 2px solid #34d399;
      opacity: 0.85;
    }

  </style>
</head>
<body>
<div class="container">

  <!-- â”€â”€ QUIZ â”€â”€ -->
  <div id="quizSection">
    <h1>ğŸ§  Ton Brainlag</h1>
    <p class="subtitle">10 questions pour identifier ton mode de protection dominant.<br>RÃ©ponds instinctivement.</p>
    <div class="progress-bar">
      <div class="progress-fill" id="progressFill" style="width:0%"></div>
    </div>
    <div id="questionsContainer"></div>
    <button class="submit-btn" id="submitBtn" disabled onclick="showResult()">Voir mon rÃ©sultat â†’</button>
  </div>

  <!-- â”€â”€ RÃ‰SULTATS â”€â”€ -->
  <div id="resultSection"></div>

</div>

<script>

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 1. QUESTIONS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const questions = [
  {
    text: "Face Ã  un problÃ¨me sans solution claire, votre premiÃ¨re rÃ©action est deâ€¦",
    options: [
      { label: "Sur-rÃ©flÃ©chir jusqu'Ã  trouver la logique", profile: "analyse" },
      { label: "Chercher ce qui pourrait mal tourner", profile: "controle" },
      { label: "Faire quelque chose, n'importe quoi", profile: "performance" },
      { label: "Chercher la bonne faÃ§on de faire", profile: "rigueur" },
      { label: "Ressentir l'inconfort de ne pas savoir", profile: "sensibilite" },
      { label: "Prendre les rÃªnes", profile: "puissance" }
    ]
  },
  {
    text: "Quand vous devez prendre une dÃ©cision importanteâ€¦",
    options: [
      { label: "Vous analysez tous les scÃ©narios possibles", profile: "analyse" },
      { label: "Vous vÃ©rifiez plusieurs fois avant de dÃ©cider", profile: "controle" },
      { label: "Vous dÃ©cidez vite pour avancer", profile: "performance" },
      { label: "Vous cherchez la meilleure option possible", profile: "rigueur" },
      { label: "Vous suivez votre ressenti profond", profile: "sensibilite" },
      { label: "Vous dÃ©cidez seul(e), sans demander", profile: "puissance" }
    ]
  },
  {
    text: "Dans une Ã©quipe, votre rÃ´le naturel estâ€¦",
    options: [
      { label: "Celui qui analyse et propose des solutions", profile: "analyse" },
      { label: "Celui qui vÃ©rifie et sÃ©curise", profile: "controle" },
      { label: "Celui qui produit et avance vite", profile: "performance" },
      { label: "Celui qui maintient les standards", profile: "rigueur" },
      { label: "Celui qui sent l'atmosphÃ¨re du groupe", profile: "sensibilite" },
      { label: "Celui qui impulse et dÃ©cide", profile: "puissance" }
    ]
  },
  {
    text: "Quand vous vous sentez dÃ©passÃ©(e), vousâ€¦",
    options: [
      { label: "Analysez encore plus pour retrouver le contrÃ´le", profile: "analyse" },
      { label: "VÃ©rifiez et re-vÃ©rifiez pour vous rassurer", profile: "controle" },
      { label: "AccÃ©lÃ©rez pour ne pas laisser le temps Ã  l'angoisse", profile: "performance" },
      { label: "Cherchez la bonne procÃ©dure Ã  suivre", profile: "rigueur" },
      { label: "Ressentez tout trÃ¨s fort et avez besoin de l'exprimer", profile: "sensibilite" },
      { label: "Prenez le contrÃ´le de la situation", profile: "puissance" }
    ]
  },
  {
    text: "Ce qui vous dÃ©range le plus chez les autresâ€¦",
    options: [
      { label: "L'irrationnel et l'incohÃ©rence", profile: "analyse" },
      { label: "L'imprÃ©vu et le manque de fiabilitÃ©", profile: "controle" },
      { label: "La lenteur et l'inaction", profile: "performance" },
      { label: "L'approximation et la mÃ©diocritÃ©", profile: "rigueur" },
      { label: "La froideur et le manque d'empathie", profile: "sensibilite" },
      { label: "La faiblesse et la soumission", profile: "puissance" }
    ]
  },
  {
    text: "Votre plus grande peur seraitâ€¦",
    options: [
      { label: "Ne pas comprendre ou Ãªtre incompris(e)", profile: "analyse" },
      { label: "Perdre le contrÃ´le ou Ãªtre pris(e) par surprise", profile: "controle" },
      { label: "Ã‰chouer ou ne pas Ãªtre Ã  la hauteur", profile: "performance" },
      { label: "Faire une erreur ou Ãªtre dans l'erreur", profile: "rigueur" },
      { label: "ÃŠtre invisible ou incompris(e) dans ce que vous ressentez", profile: "sensibilite" },
      { label: "ÃŠtre dominÃ©(e) ou perdre votre autonomie", profile: "puissance" }
    ]
  },
  {
    text: "Quand quelqu'un vous critiqueâ€¦",
    options: [
      { label: "Vous analysez si la critique est logiquement fondÃ©e", profile: "analyse" },
      { label: "Vous vous demandez ce que vous avez ratÃ©", profile: "controle" },
      { label: "Vous voulez corriger rapidement", profile: "performance" },
      { label: "Vous vous demandez si vous avez vraiment mal fait", profile: "rigueur" },
      { label: "Vous le ressentez profondÃ©ment", profile: "sensibilite" },
      { label: "Vous vous dÃ©fendez ou contre-attaquez", profile: "puissance" }
    ]
  },
  {
    text: "Pour vous recharger, vous avez besoin deâ€¦",
    options: [
      { label: "Temps seul(e) pour rÃ©flÃ©chir et lire", profile: "analyse" },
      { label: "Routine et environnement prÃ©visible", profile: "controle" },
      { label: "Accomplir quelque chose, mÃªme petit", profile: "performance" },
      { label: "Que tout soit en ordre autour de vous", profile: "rigueur" },
      { label: "Connexion Ã©motionnelle et beautÃ©", profile: "sensibilite" },
      { label: "Espace et libertÃ© d'action", profile: "puissance" }
    ]
  },
  {
    text: "Votre rapport au temps estâ€¦",
    options: [
      { label: "Le temps, c'est pour rÃ©flÃ©chir", profile: "analyse" },
      { label: "Le temps doit Ãªtre maÃ®trisÃ© et planifiÃ©", profile: "controle" },
      { label: "Le temps, c'est de l'action â€” chaque minute compte", profile: "performance" },
      { label: "Le temps doit Ãªtre bien utilisÃ©, sans erreur", profile: "rigueur" },
      { label: "Le temps suit les Ã©motions et les cycles", profile: "sensibilite" },
      { label: "Le temps, c'est de l'Ã©nergie Ã  diriger", profile: "puissance" }
    ]
  },
  {
    text: "La phrase qui vous ressemble le plusâ€¦",
    options: [
      { label: "\"Je comprends mieux quand j'ai le temps d'analyser.\"", profile: "analyse" },
      { label: "\"Je me sens mieux quand je sais Ã  quoi m'attendre.\"", profile: "controle" },
      { label: "\"Je me sens vivant(e) quand j'avance.\"", profile: "performance" },
      { label: "\"Je ne supporte pas de mal faire les choses.\"", profile: "rigueur" },
      { label: "\"Je ressens les choses trÃ¨s profondÃ©ment.\"", profile: "sensibilite" },
      { label: "\"Je n'aime pas qu'on me dise quoi faire.\"", profile: "puissance" }
    ]
  }
];

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 2. PROFILS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const profiles = {
  analyse: {
    name: "Eliot",
    mode: "L'Observateur",
    emoji: "ğŸ”µ",
    color: "#6366f1",
    image: "images/Eliot.png",
    brainlag: "Ton cerveau tourne en boucle. Il analyse, dÃ©cortique, cherche la logique â€” mÃªme quand il n'y en a pas. C'est ton systÃ¨me de protection : comprendre pour ne pas Ãªtre surpris.",
    hypothese: "\"Si je comprends tout, rien ne peut me blesser ou me dÃ©passer.\"",
    protection: "Tu prends de la distance. Tu observes avant d'agir. Tu collectes des informations pour te sentir en sÃ©curitÃ© dans ta propre tÃªte.",
    glitch: "Tu dÃ©penses une Ã©nergie Ã©norme Ã  penser. Et pendant ce temps, tu n'agis pas. Tu restes dans le mental pour Ã©viter le contact avec ce qui pourrait te submerger.",
    reboot: [
      "Pose-toi cette question : 'Est-ce que j'ai besoin de comprendre davantage, ou est-ce que j'ai dÃ©jÃ  assez d'infos pour agir ?'",
      "Fixe-toi une limite mentale : 10 minutes d'analyse max, puis une action concrÃ¨te â€” mÃªme petite.",
      "Remarque quand tu utilises 'j'analyse' pour Ã©viter de ressentir quelque chose d'inconfortable.",
      "Pratique une chose par semaine qui ne se comprend pas â€” qui se vit juste.",
      "Offre ton analyse Ã  quelqu'un : partager ce que tu penses sort la connaissance de ta tÃªte et la met en mouvement."
    ]
  },
  controle: {
    name: "Jiwooh",
    mode: "L'Architecte de SÃ©curitÃ©",
    emoji: "âšª",
    color: "#94a3b8",
    image: "images/Jiwooh.png",
    brainlag: "Ton systÃ¨me surveille en permanence. Il anticipe les risques, vÃ©rifie les dÃ©tails, contrÃ´le l'environnement. C'est ta faÃ§on de te sentir en sÃ©curitÃ© dans un monde imprÃ©visible.",
    hypothese: "\"Si je contrÃ´le tout, rien de mauvais ne peut arriver.\"",
    protection: "Tu planifies, tu vÃ©rifies, tu anticipes. Tu crÃ©es des routines et des systÃ¨mes pour que tout soit prÃ©visible.",
    glitch: "L'imprÃ©vu te coÃ»te Ã©normÃ©ment. Tu peux passer plus de temps Ã  anticiper les problÃ¨mes qu'Ã  profiter de ce qui se passe.",
    reboot: [
      "Identifie une chose aujourd'hui que tu n'as pas besoin de contrÃ´ler.",
      "Quand tu veux vÃ©rifier une 3Ã¨me fois â€” remarque-le. Demande-toi si c'est nÃ©cessaire.",
      "Pratique de laisser un espace non-planifiÃ© dans ta semaine.",
      "Observe ce que tu ressens quand tu lÃ¢ches le contrÃ´le â€” juste 5 minutes.",
      "Rappelle-toi : l'imprÃ©vu a aussi Ã©tÃ© source de bonnes choses dans ta vie."
    ]
  },
  performance: {
    name: "Luna",
    mode: "L'AccÃ©lÃ©ratrice",
    emoji: "ğŸŸ¡",
    color: "#f59e0b",
    image: "images/Luna.png",
    brainlag: "Tu avances. Toujours. L'action est ton antidote Ã  l'angoisse. Tant que tu fais, tu n'as pas le temps de ressentir ce qui te pÃ¨se.",
    hypothese: "\"Si je produis assez, j'aurai ma place. Si je m'arrÃªte, tout s'effondre.\"",
    protection: "Tu remplis ton agenda. Tu multiplies les projets. Tu es celle sur qui on peut compter â€” et tu entretiens Ã§a.",
    glitch: "Tu t'Ã©puises. Et tu ne t'en rends compte que quand le corps lÃ¢che. Tu confonds valeur personnelle et productivitÃ©.",
    reboot: [
      "Prends 10 minutes sans rien faire. Observe ce qui remonte.",
      "Demande-toi : 'Est-ce que j'agis parce que j'en ai envie, ou parce que j'ai peur de m'arrÃªter ?'",
      "Identifie une chose que tu fais juste pour toi â€” pas pour produire.",
      "Dis non Ã  une demande cette semaine. Observe ce que tu ressens.",
      "Remarque quand tu accÃ©lÃ¨res sous pression. Ralentis d'un cran. Intentionnellement."
    ]
  },
  rigueur: {
    name: "Clara",
    mode: "La Gardienne",
    emoji: "ğŸŸ¢",
    color: "#10b981",
    image: "images/Clara.png",
    brainlag: "Tu tiens. Tu maintiens. Tu t'assures que tout est bien fait, dans les rÃ¨gles, sans bavure. C'est ta faÃ§on de te sentir en sÃ©curitÃ© et lÃ©gitime.",
    hypothese: "\"Si je fais bien, personne ne peut me reprocher quoi que ce soit.\"",
    protection: "Tu appliques des standards Ã©levÃ©s. Pour toi et les autres. Tu vÃ©rifies, tu corriges, tu affines.",
    glitch: "Tu peux te paralyser face Ã  l'imperfection â€” la tienne ou celle des autres. Et tu peux Ãªtre perÃ§ue comme rigide quand tu cherches juste Ã  bien faire.",
    reboot: [
      "Identifie une tÃ¢che oÃ¹ 'assez bien' suffit vraiment.",
      "Remarque quand tu te critiques. Demande-toi si tu dirais Ã§a Ã  quelqu'un que tu aimes.",
      "Laisse quelque chose d'imparfait visible â€” et reste avec le malaise.",
      "Pratique de dÃ©lÃ©guer sans corriger derriÃ¨re.",
      "Rappelle-toi : l'erreur est de l'information, pas une condamnation."
    ]
  },
  sensibilite: {
    name: "Mar",
    mode: "La Sensorielle",
    emoji: "ğŸ”´",
    color: "#f43f5e",
    image: "images/Mars.png",
    brainlag: "Tu ressens fort. Tout. Les ambiances, les non-dits, les beautÃ©s, les injustices. C'est un don â€” et parfois une surcharge.",
    hypothese: "\"Si je ressens assez profondÃ©ment, je trouverai ma place et mon sens.\"",
    protection: "Tu t'immerges dans l'Ã©motion, la crÃ©ation, la relation. Tu cherches l'authenticitÃ© totale.",
    glitch: "Tu peux te perdre dans l'intensitÃ©. Et confondre profondeur et souffrance â€” comme si souffrir prouvait que tu vis vraiment.",
    reboot: [
      "Observe l'Ã©motion sans l'amplifier. Elle passe.",
      "CrÃ©e quelque chose Ã  partir de ce que tu ressens â€” Ã§a libÃ¨re sans dÃ©border.",
      "Avant d'agir sur une Ã©motion forte, donne-toi 5 minutes.",
      "Distingue : 'Je ressens Ã§a' de 'C'est la rÃ©alitÃ©'.",
      "Trouve une personne avec qui tu peux Ãªtre intense â€” sans te retenir."
    ]
  },
  puissance: {
    name: "Malik",
    mode: "Le Rempart",
    emoji: "ğŸŸ ",
    color: "#f97316",
    image: "images/Malik.png",
    brainlag: "Tu te bats. Tu t'imposes. Tu prends de la place â€” parfois sans t'en rendre compte. C'est ta faÃ§on de te protÃ©ger d'un monde que tu vis comme menaÃ§ant.",
    hypothese: "\"Si je suis fort(e) et que je dirige, personne ne peut m'atteindre.\"",
    protection: "Tu prends les devants. Tu dÃ©cides. Tu montres que tu n'as pas besoin des autres.",
    glitch: "Tu peux intimider sans le vouloir. Et refuser l'aide dont tu as besoin â€” parce que demander, c'est montrer une faille.",
    reboot: [
      "Remarque un moment cette semaine oÃ¹ tu aurais pu demander de l'aide â€” et ne l'as pas fait.",
      "Observe : quand tu passes en mode 'rempart', est-ce de la force ou de la peur dÃ©guisÃ©e ?",
      "Pratique de laisser quelqu'un d'autre dÃ©cider sur une chose non-essentielle.",
      "Remarque ce que tu ressens quand tu n'as pas le contrÃ´le. Reste avec Ã§a 2 minutes.",
      "Dis Ã  quelqu'un de confiance une chose dans laquelle tu n'es pas sÃ»r(e) de toi."
    ]
  }
};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 3. COMBOS MIXTES
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const combos = {
  "analyse-controle": {
    title: "ğŸ”µâšª L'Architecte Analytique",
    desc: "Tu analyses pour contrÃ´ler, et tu contrÃ´les pour ne plus avoir Ã  ressentir. Un systÃ¨me ultra-efficace â€” jusqu'Ã  ce qu'il se retourne contre toi.",
    concret: "Tu passes des heures Ã  planifier le moindre dÃ©tail. Tu te sens incapable d'agir sans avoir tout compris. L'imprÃ©vu te coÃ»te Ã©normÃ©ment d'Ã©nergie.",
    glitch: "Ton cerveau ne s'Ã©teint jamais vraiment. La sur-analyse alimente l'anxiÃ©tÃ© du contrÃ´le, qui alimente la sur-analyse.",
    reboot: "Commence par une seule action imparfaite, sans tout avoir prÃ©vu. L'action crÃ©e plus de clartÃ© que l'analyse."
  },
  "analyse-performance": {
    title: "ğŸ”µğŸŸ¡ Le StratÃ¨ge en Mouvement",
    desc: "Tu penses vite et tu agis vite. Mais tu cours parfois si vite que tu perds le fil de pourquoi tu cours.",
    concret: "Tu jonglues entre projets, idÃ©es, analyses. Quand tu t'arrÃªtes, tu te sens inutile ou anxieux(se).",
    glitch: "Tu utilises l'action pour court-circuiter l'analyse â€” et l'analyse pour justifier l'action. RÃ©sultat : tu es toujours en mouvement, rarement en paix.",
    reboot: "Pose une question simple : 'Est-ce que j'agis parce que c'est juste, ou parce que m'arrÃªter me fait peur ?'"
  },
  "analyse-rigueur": {
    title: "ğŸ”µğŸŸ¢ Le Perfectionniste Logique",
    desc: "Tu veux comprendre ET bien faire. Standards trÃ¨s Ã©levÃ©s, peu de tolÃ©rance pour l'erreur â€” la tienne surtout.",
    concret: "Tu peux rester bloquÃ©(e) longtemps sur une dÃ©cision parce que tu veux Ãªtre sÃ»r(e) de faire juste.",
    glitch: "L'analyse alimente la rigueur, la rigueur ralentit l'action. Tu attends d'Ãªtre parfait(e) pour commencer.",
    reboot: "Fixe-toi un seuil : '80% de certitude, c'est assez pour avancer.' Le reste vient en faisant."
  },
  "analyse-sensibilite": {
    title: "ğŸ”µğŸ”´ L'InterprÃ¨te Profond",
    desc: "Tu analyses ce que tu ressens â€” et tu ressens ce que tu analyses. Une boucle riche et parfois Ã©puisante.",
    concret: "Tu dÃ©cortiques tes Ã©motions au lieu de les vivre. Ou tu te perds dans tes ressentis et cherches Ã  leur donner du sens.",
    glitch: "Tu peux intellectualiser pour ne pas ressentir â€” ou ressentir si fort que Ã§a paralyse l'analyse.",
    reboot: "Pratique de ressentir sans chercher Ã  comprendre. Juste 5 minutes. Sans mot, sans explication."
  },
  "analyse-puissance": {
    title: "ğŸ”µğŸŸ  Le Leader CÃ©rÃ©bral",
    desc: "Tu veux comprendre ET diriger. Tu analyses pour prendre de meilleures dÃ©cisions â€” et tu n'aimes pas Ãªtre contredit(e) sans argument solide.",
    concret: "Tu peux dominer les conversations sans t'en rendre compte â€” parce que tu as toujours un raisonnement d'avance.",
    glitch: "Tu confonds avoir raison avec avoir du pouvoir. Ã‡a peut isoler les autres.",
    reboot: "Pratique d'Ã©couter une idÃ©e jusqu'au bout avant de rÃ©pondre. Laisse-toi surprendre."
  },
  "controle-performance": {
    title: "âšªğŸŸ¡ La Machine Efficace",
    desc: "Tu planifies et tu exÃ©cutes. Tu es fiable, productif(ve), organisÃ©(e). Et tu t'Ã©puises Ã  maintenir ce rythme.",
    concret: "Tu as des listes, des systÃ¨mes, des routines. Quand quelque chose dÃ©raille, tu rÃ©accÃ©lÃ¨res pour rattraper.",
    glitch: "Tu ne t'arrÃªtes jamais vraiment. Le repos te semble improductif â€” donc suspect.",
    reboot: "Planifie du vide. LittÃ©ralement. Un crÃ©neau par semaine sans objectif."
  },
  "controle-rigueur": {
    title: "âšªğŸŸ¢ Le Gardien des RÃ¨gles",
    desc: "Tu veux que tout soit fait correctement ET prÃ©visiblement. Tu es la personne sur qui on peut compter â€” toujours.",
    concret: "Tu t'imposes des standards trÃ¨s Ã©levÃ©s et tu attends autant des autres. Le relÃ¢chement te dÃ©stabilise.",
    glitch: "Tu peux devenir rigide sans t'en rendre compte â€” dÃ©fendant des rÃ¨gles pour Ã©viter l'incertitude.",
    reboot: "Identifie une rÃ¨gle que tu appliques par habitude, pas par conviction. Est-ce qu'elle te sert encore ?"
  },
  "controle-sensibilite": {
    title: "âšªğŸ”´ Le CÅ“ur BlindÃ©",
    desc: "Tu ressens beaucoup â€” et tu contrÃ´les pour que Ã§a ne se voie pas. Une tension permanente entre l'intÃ©rieur et l'extÃ©rieur.",
    concret: "Tu peux sembler calme et organisÃ©(e) alors que tu vis une tempÃªte intÃ©rieure.",
    glitch: "Tu dÃ©penses beaucoup d'Ã©nergie Ã  contenir ce que tu ressens. Ã‡a finit par fuir ailleurs.",
    reboot: "Choisis une personne de confiance. Dis-lui une chose que tu ressens â€” sans la rationaliser."
  },
  "controle-puissance": {
    title: "âšªğŸŸ  Le StratÃ¨ge Dominant",
    desc: "Tu contrÃ´les l'environnement ET les dynamiques de pouvoir. Tu aimes que les choses aillent dans ton sens â€” et tu t'assures que c'est le cas.",
    concret: "Tu peux Ãªtre perÃ§u(e) comme inflexible ou autoritaire alors que tu cherches juste Ã  te sentir en sÃ©curitÃ©.",
    glitch: "Quand tu perds le contrÃ´le d'une situation, tu peux rÃ©agir fort â€” surprenant ceux qui ne voyaient pas la pression en dessous.",
    reboot: "Observe une situation oÃ¹ tu tiens le contrÃ´le par peur, pas par nÃ©cessitÃ©. Que se passerait-il si tu lÃ¢chais ?"
  },
  "performance-rigueur": {
    title: "ğŸŸ¡ğŸŸ¢ L'ExÃ©cutant Exigeant",
    desc: "Tu avances vite ET tu veux bien faire. Une combinaison ambitieuse â€” et Ã©puisante.",
    concret: "Tu te mets une pression Ã©norme : aller vite ET Ãªtre parfait(e). Les deux s'opposent souvent.",
    glitch: "Tu t'en veux quand tu vas trop vite et fais des erreurs. Tu t'en veux quand tu ralentis pour bien faire.",
    reboot: "DÃ©finis pour chaque projet : est-ce un sprint (vitesse) ou un ouvrage (qualitÃ©) ? Tu ne peux pas tout avoir en mÃªme temps."
  },
  "performance-sensibilite": {
    title: "ğŸŸ¡ğŸ”´ L'Artiste en Mouvement",
    desc: "Tu ressens fort et tu transformes Ã§a en action, crÃ©ation, mouvement. Une Ã©nergie puissante â€” qui peut partir dans tous les sens.",
    concret: "Tu peux lancer 10 projets sur un coup d'Ã©motion et en abandonner 8.",
    glitch: "Tu utilises l'action pour fuir l'Ã©motion, et l'Ã©motion pour te lancer dans l'action. Sans jamais vraiment t'arrÃªter.",
    reboot: "Avant de lancer un nouveau projet : dors dessus. L'Ã©lan est toujours lÃ  le lendemain si c'est vrai."
  },
  "performance-puissance": {
    title: "ğŸŸ¡ğŸŸ  Le Moteur Dominant",
    desc: "Tu avances vite ET tu prends de la place. Tu es celui/celle qui impulse, dÃ©cide, entraÃ®ne les autres.",
    concret: "Tu peux Ã©craser sans t'en rendre compte â€” en allant trop vite, en dÃ©cidant sans consulter.",
    glitch: "Tu confonds vitesse et leadership. Et tu peux laisser les autres loin derriÃ¨re.",
    reboot: "Ralentis volontairement une fois par semaine pour laisser quelqu'un d'autre mener. Observe ce que Ã§a te coÃ»te."
  },
  "rigueur-sensibilite": {
    title: "ğŸŸ¢ğŸ”´ L'IdÃ©aliste BlessÃ©",
    desc: "Tu veux que le monde soit bien fait ET tu le ressens profondÃ©ment quand ce n'est pas le cas. Une sensibilitÃ© Ã  fleur de peau doublÃ©e d'exigence.",
    concret: "Tu souffres des injustices, des imperfections, de l'indiffÃ©rence des autres. Tu peux avoir l'impression d'Ãªtre seul(e) Ã  voir ce qui ne va pas.",
    glitch: "Tu peux te perdre dans la souffrance de ce qui devrait Ãªtre â€” et oublier ce qui est dÃ©jÃ  beau.",
    reboot: "Identifie chaque jour une chose imparfaite qui a quand mÃªme de la valeur. EntraÃ®ne ton regard."
  },
  "rigueur-puissance": {
    title: "ğŸŸ¢ğŸŸ  Le Juge Intransigeant",
    desc: "Tu as des standards Ã©levÃ©s ET tu les dÃ©fends avec force. Tu n'acceptes pas le mÃ©diocre â€” ni chez toi, ni chez les autres.",
    concret: "Tu peux entrer en conflit quand tu estimes que les choses sont mal faites ou injustes.",
    glitch: "Tu peux confondre avoir raison avec bien faire. Et ta faÃ§on de dÃ©fendre tes standards peut blesser.",
    reboot: "Demande-toi : est-ce que je dÃ©fends un principe ou est-ce que j'essaie de contrÃ´ler ?"
  },
  "sensibilite-puissance": {
    title: "ğŸ”´ğŸŸ  Le Volcan",
    desc: "Tu ressens trÃ¨s fort â€” et tu l'exprimes avec intensitÃ©. Tes Ã©motions ont de la puissance, et elles peuvent sortir de faÃ§on explosive.",
    concret: "Tu peux passer de la douceur Ã  la confrontation trÃ¨s vite. Les autres peuvent te trouver imprÃ©visible.",
    glitch: "Tu confonds intensitÃ© Ã©motionnelle et urgence d'agir. Pas tout ce qui se ressent doit Ãªtre exprimÃ© immÃ©diatement.",
    reboot: "Avant d'agir sur une Ã©motion forte, donne-toi 5 minutes. Observe si l'urgence est toujours lÃ  aprÃ¨s."
  }
};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 4. Ã‰TAT
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const answers = {};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 5. RENDU DU QUIZ
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

function renderQuiz() {
  const container = document.getElementById('questionsContainer');
  container.innerHTML = '';

  questions.forEach((q, qi) => {
    const block = document.createElement('div');
    block.className = 'question-block';
    block.innerHTML = `
      <div class="question-number">Question ${qi + 1} / ${questions.length}</div>
      <div class="question-text">${q.text}</div>
      <div class="options" id="opts-${qi}"></div>
    `;

    const optsDiv = block.querySelector(`#opts-${qi}`);
    q.options.forEach((opt, oi) => {
      const btn = document.createElement('button');
      btn.className = 'option-btn';
      btn.textContent = opt.label;
      btn.onclick = () => selectOption(qi, oi, opt.profile, btn, optsDiv);
      optsDiv.appendChild(btn);
    });

    container.appendChild(block);
  });
}

function selectOption(qi, oi, profile, btn, optsDiv) {
  optsDiv.querySelectorAll('.option-btn').forEach(b => b.classList.remove('selected'));
  btn.classList.add('selected');
  answers[qi] = profile;

  const progress = (Object.keys(answers).length / questions.length) * 100;
  document.getElementById('progressFill').style.width = progress + '%';

  const submitBtn = document.getElementById('submitBtn');
  submitBtn.disabled = Object.keys(answers).length < questions.length;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 6. CALCUL & AFFICHAGE DU RÃ‰SULTAT
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

function showResult() {
  const scores = {};
  Object.values(answers).forEach(p => {
    scores[p] = (scores[p] || 0) + 1;
  });

  const sorted = Object.entries(scores).sort((a, b) => b[1] - a[1]);
  const primary = sorted[0][0];
  const secondary = sorted.length > 1 ? sorted[1][0] : null;
  const total = questions.length;

  const p1 = profiles[primary];
  const p2 = secondary ? profiles[secondary] : null;

  const comboKey = secondary
    ? [primary, secondary].sort().join('-')
    : null;
  const mix = comboKey && combos[comboKey] ? combos[comboKey] : null;

  let html = `
    <h1 style="margin-bottom:30px">Ton Brainlag ğŸ§ </h1>

    <!-- PROFIL PRINCIPAL -->
    <span class="tag tag-primary">âœ¦ Mode dominant</span>

    <img
      src="${p1.image}"
      alt="${p1.name}"
      class="character-img"
      style="--profile-color: ${p1.color}"
      onerror="this.style.display='none'"
    />

    <div class="profile-title" style="color: ${p1.color}">${p1.emoji} ${p1.name} â€” ${p1.mode}</div>
    <p class="profile-subtitle">Score : ${scores[primary]} / ${total} rÃ©ponses</p>

    <div class="score-bar-wrap">
      <div class="score-bar">
        <div class="score-bar-fill" style="width:${(scores[primary]/total)*100}%; background: ${p1.color}"></div>
      </div>
    </div>

    <hr class="divider">

    <p class="section-label">ğŸ”´ Ton Brainlag</p>
    <p class="section-content">${p1.brainlag}</p>

    <p class="section-label">ğŸ’­ L'hypothÃ¨se cachÃ©e</p>
    <p class="section-content">${p1.hypothese}</p>

    <p class="section-label">ğŸ›¡ï¸ Ton mode protection</p>
    <p class="section-content">${p1.protection}</p>

    <p class="section-label">âš¡ Le Glitch</p>
    <p class="section-content">${p1.glitch}</p>

    <p class="section-label">ğŸ”§ Ton Reboot â€” par oÃ¹ commencer</p>
    <ul class="reboot-list">
      ${p1.reboot.map(r => `<li>${r}</li>`).join('')}
    </ul>
  `;

  if (p2) {
    html += `
    <hr class="divider">

    <!-- PROFIL SECONDAIRE -->
    <span class="tag tag-secondary">âœ¦ Mode secondaire</span>

    <img
      src="${p2.image}"
      alt="${p2.name}"
      class="char-img-secondary"
      onerror="this.style.display='none'"
    />

    <div class="profile-title" style="font-size:1.3rem; color: ${p2.color}">${p2.emoji} ${p2.name} â€” ${p2.mode}</div>
    <p class="profile-subtitle">Score : ${scores[secondary]} / ${total} rÃ©ponses</p>

    <div class="score-bar-wrap">
      <div class="score-bar">
        <div class="score-bar-fill" style="width:${(scores[secondary]/total)*100}%; background: linear-gradient(90deg, #34d399, #6ee7b7)"></div>
      </div>
    </div>

    <hr class="divider">

    <p class="section-label">ğŸ”´ Ton Brainlag secondaire</p>
    <p class="section-content">${p2.brainlag}</p>

    <p class="section-label">âš™ï¸ Ton mode protection secondaire</p>
    <p class="section-content">${p2.protection}</p>
    `;
  }

  if (mix) {
    html += `
    <hr class="divider">

    <!-- COMBO MIXTE -->
    <span class="tag tag-mix">ğŸ§¬ Ton combo unique</span>
    <div class="mix-card">
      <div class="profile-title" style="font-size:1.3rem">${mix.title}</div>

      <p class="section-label" style="margin-top:16px">Ce que Ã§a crÃ©e</p>
      <p class="section-content">${mix.desc}</p>

      <p class="section-label">ConcrÃ¨tement</p>
      <p class="section-content">${mix.concret}</p>

      <p class="section-label">âš ï¸ Le glitch combinÃ©</p>
      <p class="section-content">${mix.glitch}</p>

      <p class="section-label">ğŸ”§ Par oÃ¹ commencer</p>
      <p class="section-content">${mix.reboot}</p>
    </div>
    `;
  }

  html += `
    <hr class="divider">

    <div class="action-buttons">
      <button class="btn-share" onclick="shareResult('${p1.name}', '${mix ? mix.title : p1.mode}')">
        â†— Partager mon rÃ©sultat
      </button>
      <button class="btn-restart" onclick="restartQuiz()">
        â†º Recommencer
      </button>
    </div>
  `;

  document.getElementById('quizSection').style.display = 'none';
  const resultSection = document.getElementById('resultSection');
  resultSection.style.display = 'block';
  resultSection.innerHTML = html;
  window.scrollTo({ top: 0, behavior: 'smooth' });
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 7. UTILITAIRES
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

function shareResult(name, combo) {
  const text = `Mon Brainlag dominant : ${name}\nMon combo : ${combo}\nDÃ©couvre le tien â†’ [ton lien]`;
  if (navigator.share) {
    navigator.share({ title: 'Mon Brainlag', text: text });
  } else {
    navigator.clipboard.writeText(text).then(() => alert('RÃ©sultat copiÃ© ! Tu peux le coller oÃ¹ tu veux.'));
  }
}

function restartQuiz() {
  Object.keys(answers).forEach(k => delete answers[k]);
  document.getElementById('quizSection').style.display = 'block';
  document.getElementById('resultSection').style.display = 'none';
  document.getElementById('progressFill').style.width = '0%';
  renderQuiz();
  window.scrollTo({ top: 0, behavior: 'smooth' });
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 8. INIT
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

renderQuiz();
</script>
</body>
</html>
