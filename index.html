<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ton Brainlag</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #0a0a0a;
      color: #f0f0f0;
      min-height: 100vh;
      padding: 20px;
    }
    .container {
      max-width: 680px;
      margin: 0 auto;
      padding: 40px 20px;
    }
    h1 {
      font-size: 1.8rem;
      text-align: center;
      margin-bottom: 10px;
      letter-spacing: 1px;
    }
    .subtitle {
      text-align: center;
      color: #888;
      margin-bottom: 40px;
      font-size: 0.95rem;
      line-height: 1.6;
    }
    .question-block {
      margin-bottom: 36px;
    }
    .question-number {
      color: #666;
      font-size: 0.8rem;
      margin-bottom: 6px;
    }
    .question-text {
      font-size: 1rem;
      font-weight: 600;
      margin-bottom: 14px;
      color: #e0e0e0;
      padding-bottom: 8px;
      border-bottom: 1px solid #222;
    }
    .options {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    .option-btn {
      background: #111;
      border: 1px solid #2a2a2a;
      color: #ccc;
      padding: 12px 16px;
      border-radius: 10px;
      cursor: pointer;
      text-align: left;
      font-size: 0.92rem;
      transition: all 0.2s;
    }
    .option-btn:hover {
      border-color: #555;
      color: #fff;
      background: #1a1a1a;
    }
    .option-btn.selected {
      border-color: #7c6af7;
      color: #fff;
      background: #1a1a2e;
    }
    .progress-bar {
      width: 100%;
      height: 3px;
      background: #1a1a1a;
      border-radius: 2px;
      margin-bottom: 40px;
    }
    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, #7c6af7, #c084fc);
      border-radius: 2px;
      transition: width 0.4s ease;
    }
    .submit-btn {
      display: block;
      width: 100%;
      padding: 16px;
      background: linear-gradient(135deg, #7c6af7, #c084fc);
      border: none;
      border-radius: 12px;
      color: #fff;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      margin-top: 20px;
      transition: opacity 0.2s;
    }
    .submit-btn:disabled {
      opacity: 0.3;
      cursor: not-allowed;
    }
    .submit-btn:not(:disabled):hover {
      opacity: 0.9;
    }
    .error-msg {
      color: #f87171;
      font-size: 0.85rem;
      text-align: center;
      margin-top: 12px;
      display: none;
    }
    /* R√âSULTATS */
    .result-container {
      display: none;
    }
    .profile-card {
      background: #111;
      border: 1px solid #222;
      border-radius: 16px;
      padding: 24px;
      margin: 20px 0;
    }
    .profile-header {
      display: flex;
      align-items: center;
      gap: 16px;
      margin-bottom: 20px;
    }
    .profile-avatar {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      border: 2px solid #7c6af7;
      object-fit: cover;
    }
    .profile-title {
      font-size: 1.2rem;
      font-weight: 700;
    }
    .profile-subtitle {
      color: #888;
      font-size: 0.85rem;
      margin-top: 4px;
    }
    .section-label {
      font-size: 0.72rem;
      color: #555;
      text-transform: uppercase;
      letter-spacing: 1.5px;
      margin-top: 18px;
      margin-bottom: 6px;
    }
    .section-content {
      font-size: 0.92rem;
      color: #ccc;
      line-height: 1.7;
    }
    .steps {
      padding-left: 18px;
    }
    .steps li {
      font-size: 0.92rem;
      color: #ccc;
      line-height: 1.8;
    }
    .tag {
      display: inline-block;
      padding: 4px 12px;
      border-radius: 20px;
      font-size: 0.75rem;
      font-weight: 600;
      letter-spacing: 0.5px;
      margin-bottom: 12px;
    }
    .tag-dominant {
      background: #1a1a2e;
      color: #7c6af7;
      border: 1px solid #7c6af7;
    }
    .tag-secondary {
      background: #1a1a1a;
      color: #888;
      border: 1px solid #333;
    }
    .tag-combo {
      background: #1a2e1a;
      color: #4ade80;
      border: 1px solid #4ade80;
    }
    .divider {
      border: none;
      border-top: 1px solid #1a1a1a;
      margin: 32px 0;
    }
    .score-bars {
      margin-top: 12px;
    }
    .score-row {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 8px;
    }
    .score-label {
      font-size: 0.78rem;
      color: #666;
      width: 90px;
      flex-shrink: 0;
    }
    .score-bar {
      flex: 1;
      height: 6px;
      background: #1a1a1a;
      border-radius: 3px;
      overflow: hidden;
    }
    .score-bar-fill {
      height: 100%;
      border-radius: 3px;
      transition: width 0.6s ease;
    }
    .score-val {
      font-size: 0.75rem;
      color: #555;
      width: 20px;
      text-align: right;
    }
    /* Combo mixte */
    .combo-card {
      background: #0d1a0d;
      border: 1px solid #1a3a1a;
      border-radius: 12px;
      padding: 20px;
      margin: 16px 0;
    }
    .combo-title {
      font-size: 1rem;
      font-weight: 700;
      color: #4ade80;
      margin-bottom: 8px;
    }
    .combo-desc {
      font-size: 0.88rem;
      color: #aaa;
      line-height: 1.6;
    }
    /* Shadow block */
    .shadow-block {
      margin-top: 32px;
      padding: 16px 20px;
      border-left: 2px solid #333;
      background: #0d0d0d;
      border-radius: 8px;
    }
    .shadow-label {
      font-size: 0.75rem;
      color: #555;
      letter-spacing: 1px;
      text-transform: uppercase;
      margin-bottom: 8px;
    }
    .shadow-text {
      font-size: 0.88rem;
      color: #888;
      line-height: 1.7;
      font-style: italic;
    }
    /* Fin */
    .end-block {
      text-align: center;
      padding: 32px 0 16px;
    }
    .end-title {
      font-size: 1.1rem;
      color: #aaa;
      margin-bottom: 12px;
    }
    .end-text {
      font-size: 0.9rem;
      color: #666;
      line-height: 1.8;
      max-width: 480px;
      margin: 0 auto 20px;
    }
    .end-signature {
      font-size: 0.85rem;
      color: #444;
      font-style: italic;
      margin-top: 16px;
    }
    .end-actions {
      display: flex;
      flex-direction: column;
      gap: 12px;
      margin-top: 24px;
    }
    .end-btn {
      display: block;
      width: 100%;
      padding: 14px;
      border-radius: 12px;
      font-size: 0.95rem;
      font-weight: 600;
      cursor: pointer;
      text-align: center;
      text-decoration: none;
      border: none;
      transition: opacity 0.2s;
    }
    .end-btn:hover { opacity: 0.85; }
    .end-btn-primary {
      background: linear-gradient(135deg, #7c6af7, #c084fc);
      color: #fff;
    }
    .end-btn-instagram {
      background: #1a1a1a;
      color: #ccc;
      border: 1px solid #333;
    }
    .end-btn-restart {
      background: transparent;
      color: #555;
      border: 1px solid #222;
      font-size: 0.85rem;
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- QUIZ -->
    <div id="quizSection">
      <h1>üß¨ Ton Brainlag</h1>
      <p class="subtitle">
        Pas un test de personnalit√©.<br>
        Une carte de ton syst√®me sous pression.
      </p>
      <div class="progress-bar">
        <div class="progress-fill" id="progressFill" style="width:0%"></div>
      </div>
      <div id="questionsContainer"></div>
      <button class="submit-btn" id="submitBtn" disabled onclick="showResults()">
        Voir mon brainlag ‚Üí
      </button>
      <p class="error-msg" id="errorMsg">R√©ponds √† toutes les questions pour continuer.</p>
    </div>

    <!-- R√âSULTATS -->
    <div id="resultSection" class="result-container">
      <div id="resultContent"></div>
      <div class="end-block">
        <p class="end-title">Ce n'est pas un d√©faut de fabrication.</p>
        <p class="end-text">
          C'est un pattern ‚Äî une fa√ßon dont ton syst√®me a appris √† tenir.<br><br>
          Et ce qui s'apprend peut se transformer.
        </p>
        <p class="end-signature">‚Äî Klea</p>
      </div>
      <div class="end-actions">
        <button class="end-btn end-btn-primary" onclick="shareQuiz()">
          ‚Üó Partager le quiz
        </button>
        <a class="end-btn end-btn-instagram" href="https://www.instagram.com/klea.brainlag/" target="_blank">
          ‚Üí Rejoindre @klea.brainlag
        </a>
        <button class="end-btn end-btn-restart" onclick="restartQuiz()">
          ‚Ü∫ Recommencer le quiz
        </button>
      </div>
    </div>
  </div>

<script>

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// 0. UTILITAIRE ‚Äî M√âLANGE FISHER-YATES
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

function shuffle(array) {
  const arr = [...array];
  for (let i = arr.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [arr[i], arr[j]] = [arr[j], arr[i]];
  }
  return arr;
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// 1. CONSTANTES
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

const TOTAL_Q = 12;
let answers = {};

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// 2. QUESTIONS + SHADOWS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

const questions = [
  {
    text: "Quand quelque chose ne va pas, ta premi√®re r√©action c'est‚Ä¶",
    options: [
      { label: "Chercher pourquoi ‚Äî d√©cortiquer ce qui s'est pass√©", profile: "analyse" },
      { label: "Trouver une solution avant que √ßa empire", profile: "controle" },
      { label: "Continuer √† avancer pour ne pas rester bloqu√©(e)", profile: "performance", shadow: "enthousiasme" },
      { label: "Te demander si tu aurais pu faire mieux", profile: "rigueur" },
      { label: "Ressentir d'abord ‚Äî comprendre ensuite", profile: "sensibilite" },
      { label: "Prendre les r√™nes et g√©rer", profile: "puissance" }
    ]
  },
  {
    text: "Ce qui t'√©puise le plus sans que tu l'admettes vraiment‚Ä¶",
    options: [
      { label: "Faire semblant que tout va bien alors que tu rumines", profile: "analyse" },
      { label: "Devoir tout g√©rer parce que personne ne le fera comme toi", profile: "controle" },
      { label: "T'arr√™ter ‚Äî vraiment t'arr√™ter", profile: "performance", shadow: "enthousiasme" },
      { label: "Ne jamais √™tre satisfait(e) de ce que tu produis", profile: "rigueur" },
      { label: "Porter les √©motions des autres en plus des tiennes", profile: "sensibilite", shadow: "lien" },
      { label: "Devoir justifier chaque d√©cision que tu prends", profile: "puissance" }
    ]
  },
  {
    text: "Dans un groupe, tu es souvent celui/celle qui‚Ä¶",
    options: [
      { label: "Observe avant de parler", profile: "analyse" },
      { label: "Anticipe les probl√®mes que les autres n'ont pas vus", profile: "controle" },
      { label: "Lance la dynamique et entra√Æne les autres", profile: "performance", shadow: "enthousiasme" },
      { label: "Remarque ce qui pourrait √™tre mieux fait", profile: "rigueur" },
      { label: "Sent quand quelqu'un ne va pas ‚Äî m√™me sans qu'il parle", profile: "sensibilite" },
      { label: "Prend naturellement la parole et oriente le groupe", profile: "puissance" }
    ]
  },
  {
    text: "La phrase qui te ressemble le plus en ce moment‚Ä¶",
    options: [
      { label: "\"Si je comprends tout, rien ne peut me surprendre.\"", profile: "analyse" },
      { label: "\"Si j'anticipe tout, rien ne peut mal tourner.\"", profile: "controle" },
      { label: "\"Si je fais assez, je m√©rite ma place.\"", profile: "performance" },
      { label: "\"Si c'est parfait, je suis en s√©curit√©.\"", profile: "rigueur" },
      { label: "\"Si je ressens tout, je ne rate rien d'important.\"", profile: "sensibilite" },
      { label: "\"Si je garde le contr√¥le, personne ne peut m'atteindre.\"", profile: "puissance" }
    ]
  },
  {
    text: "Ce dont tu aurais besoin en ce moment mais que tu n'arrives pas √† t'offrir‚Ä¶",
    options: [
      { label: "Du calme mental ‚Äî arr√™ter de tout analyser", profile: "analyse" },
      { label: "L√¢cher prise sur ce que tu ne contr√¥les pas", profile: "controle", shadow: "harmonie" },
      { label: "Exister sans avoir √† tout le temps prouver", profile: "performance" },
      { label: "Accepter l'imperfection sans te punir", profile: "rigueur" },
      { label: "Moins absorber les √©motions des autres", profile: "sensibilite", shadow: "lien" },
      { label: "Montrer une limite sans perdre ta force", profile: "puissance", shadow: "harmonie" }
    ]
  },
  {
    text: "Ce que les autres remarquent souvent chez toi‚Ä¶",
    options: [
      { label: "Ta capacit√© √† analyser des situations complexes", profile: "analyse" },
      { label: "Ton souci du d√©tail et ton anticipation", profile: "controle" },
      { label: "Ton √©nergie et ta capacit√© √† produire", profile: "performance", shadow: "enthousiasme" },
      { label: "Ton exigence envers toi-m√™me et les autres", profile: "rigueur" },
      { label: "Ta sensibilit√© et ta profondeur √©motionnelle", profile: "sensibilite" },
      { label: "Ton assurance et ton impact naturel", profile: "puissance" }
    ]
  },
  {
    text: "Quand tu dois attendre sans pouvoir agir, tu‚Ä¶",
    options: [
      { label: "Cherches √† comprendre pourquoi la situation est bloqu√©e", profile: "analyse" },
      { label: "Pr√©pares plusieurs sc√©narios au cas o√π", profile: "controle" },
      { label: "Trouves autre chose √† faire imm√©diatement", profile: "performance", shadow: "enthousiasme" },
      { label: "Ressasses ce que tu aurais pu mieux faire avant", profile: "rigueur" },
      { label: "Ressens l'inconfort dans ton corps avant tout", profile: "sensibilite" },
      { label: "As du mal √† accepter de ne pas avoir la main", profile: "puissance" }
    ]
  },
  {
    text: "Ce qui te fait le plus peur dans l'√©chec‚Ä¶",
    options: [
      { label: "Ne pas comprendre ce qui s'est vraiment pass√©", profile: "analyse" },
      { label: "Avoir rat√© quelque chose que tu aurais d√ª pr√©voir", profile: "controle" },
      { label: "Que les autres pensent que tu n'es pas capable", profile: "performance" },
      { label: "Avoir fait quelque chose de mal ou d'insuffisant", profile: "rigueur" },
      { label: "Te couper de ce que tu ressens vraiment", profile: "sensibilite" },
      { label: "Perdre le respect ou la confiance des autres", profile: "puissance" }
    ]
  },
  {
    text: "Dans une conversation difficile, tu as tendance √†‚Ä¶",
    options: [
      { label: "Analyser chaque mot avant de r√©pondre", profile: "analyse" },
      { label: "Vouloir que √ßa se r√®gle vite et bien", profile: "controle", shadow: "harmonie" },
      { label: "Passer √† autre chose d√®s que c'est r√©solu", profile: "performance", shadow: "enthousiasme" },
      { label: "Rejouer la conversation dans ta t√™te apr√®s", profile: "rigueur" },
      { label: "Sentir l'√©motion de l'autre plus que la tienne", profile: "sensibilite", shadow: "lien" },
      { label: "Dire ce que tu penses m√™me si √ßa d√©range", profile: "puissance" }
    ]
  },
  {
    text: "Ton rapport au repos‚Ä¶",
    options: [
      { label: "Tu penses encore m√™me quand tu essaies de d√©compresser", profile: "analyse" },
      { label: "Tu te d√©tends seulement quand tout est en ordre", profile: "controle" },
      { label: "Tu te sens coupable quand tu ne fais rien", profile: "performance" },
      { label: "Tu remarques toujours ce qui n'est pas parfait m√™me en pause", profile: "rigueur" },
      { label: "Tu as besoin de silence et de solitude pour recharger", profile: "sensibilite" },
      { label: "Tu interpr√®tes le repos comme une faiblesse", profile: "puissance" }
    ]
  },
  {
    text: "Ce qui te donne de l'√©nergie, au fond‚Ä¶",
    options: [
      { label: "Comprendre quelque chose que tu ne comprenais pas avant", profile: "analyse" },
      { label: "Sentir que tu ma√Ætrises ce qui t'entoure", profile: "controle" },
      { label: "Accomplir, avancer, produire quelque chose de concret", profile: "performance" },
      { label: "Faire quelque chose de vraiment bien ‚Äî pas juste correct", profile: "rigueur" },
      { label: "Une connexion vraie avec quelqu'un", profile: "sensibilite", shadow: "lien" },
      { label: "Avoir un impact visible sur ce qui t'entoure", profile: "puissance" }
    ]
  },
  {
    text: "Si ton syst√®me int√©rieur avait un message d'erreur, ce serait‚Ä¶",
    options: [
      { label: "‚ö† Donn√©es insuffisantes ‚Äî analyse en cours", profile: "analyse" },
      { label: "‚ö† Variable incontr√¥l√©e d√©tect√©e ‚Äî risque √©lev√©", profile: "controle" },
      { label: "‚ö† Performance en dessous du seuil requis", profile: "performance" },
      { label: "‚ö† Erreur de conformit√© ‚Äî correction n√©cessaire", profile: "rigueur" },
      { label: "‚ö† Surcharge √©motionnelle ‚Äî saturation imminente", profile: "sensibilite" },
      { label: "‚ö† Autorit√© non reconnue ‚Äî syst√®me en alerte", profile: "puissance" }
    ]
  }
];

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// 3. PROFILS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

const profiles = {
  analyse: {
    name: "Eliot ‚Äî L'Analyste",
    emoji: "üîµ",
    color: "#60a5fa",
    mode: "Mode : Comprendre pour survivre",
    brainlag: "Ton cerveau tourne en permanence. Il cherche √† tout d√©coder avant d'agir ‚Äî parce qu'agir sans comprendre, c'est dangereux.",
    hypothese: "\"Si j'analyse assez, je serai enfin en s√©curit√©.\"",
    protection: "Tu observes, tu th√©orises, tu restes en retrait. L'analyse est ton bouclier contre l'impr√©vu.",
    glitch: "Tu peux passer des heures √† comprendre une situation sans jamais agir dessus. La r√©flexion devient une fa√ßon d'√©viter.",
    reboot: [
      "Fixe-toi une limite : 10 minutes pour analyser, puis une action ‚Äî m√™me petite.",
      "Remarque quand tu penses √† la place de ressentir.",
      "Pose la question : 'Est-ce que j'ai besoin de plus d'informations, ou j'ai peur ?'"
    ],
    img: "images/eliot.png"
  },
  controle: {
    name: "Ji-Wooh ‚Äî Le Vigilant",
    emoji: "üü£",
    color: "#a78bfa",
    mode: "Mode : Anticiper pour ne pas √™tre surpris",
    brainlag: "Tu scannes constamment l'environnement pour d√©tecter ce qui pourrait mal tourner. Le calme te rend m√©fiant.",
    hypothese: "\"Si j'anticipe tout, je ne serai jamais pris au d√©pourvu.\"",
    protection: "Tu planifies, tu v√©rifies, tu pr√©pares des plans B. Le contr√¥le est ta fa√ßon de g√©rer l'anxi√©t√©.",
    glitch: "Tu peux √©puiser ton entourage ‚Äî et toi-m√™me ‚Äî avec une vigilance qui ne s'√©teint jamais vraiment.",
    reboot: [
      "Identifie une chose que tu contr√¥les inutilement aujourd'hui. L√¢che-la d√©lib√©r√©ment.",
      "Remarque la diff√©rence entre pr√©paration utile et rumination pr√©ventive.",
      "Demande-toi : 'Quel est le pire r√©el ‚Äî pas imagin√© ‚Äî qui pourrait arriver ?'"
    ],
    img: "images/jiwooh.png"
  },
  performance: {
    name: "Luna ‚Äî La Performeuse",
    emoji: "üü°",
    color: "#fbbf24",
    mode: "Mode : Faire pour exister",
    brainlag: "Tu te prouves ta valeur √† travers ce que tu accomplis. L'arr√™t ressemble √† une chute.",
    hypothese: "\"Si je produis assez, j'aurai le droit d'√™tre l√†.\"",
    protection: "Tu remplis ton agenda, tu livres, tu avances. Le mouvement t'emp√™che de ressentir ce qu'il y a en dessous.",
    glitch: "Tu peux courir longtemps ‚Äî mais tu ne sais pas vraiment vers quoi. Et quand tu t'arr√™tes, le vide appara√Æt.",
    reboot: [
      "Prends 5 minutes aujourd'hui sans produire ni consommer. Juste √™tre.",
      "Pose-toi la question : 'Est-ce que je fais √ßa parce que je le veux ‚Äî ou parce que j'ai peur de m'arr√™ter ?'",
      "Note une chose que tu as accomplie cette semaine ‚Äî sans la minimiser."
    ],
    img: "images/luna.png"
  },
  rigueur: {
    name: "Clara ‚Äî La Perfectionniste",
    emoji: "üü†",
    color: "#fb923c",
    mode: "Mode : √ätre irr√©prochable pour √™tre en s√©curit√©",
    brainlag: "Tu te tiens √† une exigence constante ‚Äî envers toi et souvent envers les autres. L'erreur est une menace, pas une information.",
    hypothese: "\"Si c'est parfait, personne ne peut me critiquer.\"",
    protection: "Tu corriges, tu affines, tu recommences. La perfection est ton armure.",
    glitch: "Tu peux bloquer sur un d√©tail alors que l'ensemble est d√©j√† tr√®s bien. Et tu te juges avant que les autres aient le temps de le faire.",
    reboot: [
      "Identifie quelque chose de 'suffisamment bon' aujourd'hui. Laisse-le tel quel.",
      "Remarque ta voix int√©rieure critique ‚Äî sans t'y identifier.",
      "Demande-toi : 'Est-ce que je cherche la qualit√©, ou est-ce que j'√©vite d'√™tre jug√©(e) ?'"
    ],
    img: "images/clara.png"
  },
  sensibilite: {
    name: "Mar ‚Äî Le Sensitif",
    emoji: "ü©µ",
    color: "#22d3ee",
    mode: "Mode : Ressentir pour rester connect√©(e)",
    brainlag: "Tu captes tout ‚Äî les ambiances, les tensions, les non-dits. C'est un radar pr√©cieux qui peut aussi devenir une surcharge.",
    hypothese: "\"Si je ressens tout, je ne raterai rien d'essentiel.\"",
    protection: "Tu t'impr√®gnes de l'√©motion ambiante. Tu absorbes pour connecter ‚Äî parfois jusqu'√† te perdre dedans.",
    glitch: "Tu peux finir par ne plus savoir ce qui est √† toi et ce qui appartient aux autres. Ou t'isoler pour ne plus √™tre submerg√©(e).",
    reboot: [
      "Apr√®s une interaction intense, pose-toi : 'Est-ce que cette √©motion est la mienne ?'",
      "Cr√©e une fronti√®re physique symbolique ‚Äî une marche, une douche, un moment de silence.",
      "Note chaque jour une √©motion qui t'appartient vraiment."
    ],
    img: "images/mar.png"
  },
  puissance: {
    name: "Malik ‚Äî L'Intense",
    emoji: "üî¥",
    color: "#f87171",
    mode: "Mode : S'imposer pour ne pas √™tre domin√©(e)",
    brainlag: "Tu prends de la place ‚Äî souvent pour t'assurer que personne d'autre ne prenne la tienne. L'intensit√© est ta protection.",
    hypothese: "\"Si je suis fort(e), personne ne pourra m'atteindre.\"",
    protection: "Tu affirmes, tu d√©cides, tu avances. La force est ton bouclier contre la vuln√©rabilit√©.",
    glitch: "L'intensit√© peut blesser sans que tu le veuilles. Et la force constante masque parfois un √©puisement que tu n'autorises pas.",
    reboot: [
      "Identifie un moment aujourd'hui o√π tu pourrais laisser quelqu'un d'autre mener ‚Äî sans que ce soit une d√©faite.",
      "Remarque quand ton intensit√© monte : qu'est-ce qu'elle prot√®ge ?",
      "Avant d'agir sous une √©motion forte, attends 10 minutes. Puis d√©cide."
    ],
    img: "images/malik.png"
  }
};

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// 4. COMBOS MIXTES
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

const combos = {
  "analyse-controle": {
    title: "Le Strat√®ge √âpuis√©",
    desc: "Tu analyses ET tu contr√¥les. Ton cerveau ne s'arr√™te jamais.",
    concret: "Tu pr√©vois tout, tu comprends tout ‚Äî et malgr√© √ßa, tu ne te sens jamais vraiment en s√©curit√©.",
    glitch: "L'hypervigilance intellectuelle te coupe de l'action et du corps.",
    reboot: "Fixe une heure de 'cerveau off' quotidienne ‚Äî sans analyser, sans planifier."
  },
  "analyse-performance": {
    title: "Le Perfectionniste Visible",
    desc: "Tu analyses pour performer encore mieux. Tu veux comprendre ET √™tre reconnu(e).",
    concret: "Tu pr√©pares tout en d√©tail pour que le r√©sultat soit impressionnant.",
    glitch: "Tu peux bloquer sur l'analyse pour √©viter d'exposer un travail 'pas encore parfait'.",
    reboot: "Lance quelque chose avant d'√™tre pr√™t(e). Observe ce qui se passe vraiment."
  },
  "analyse-rigueur": {
    title: "Le Chercheur Intransigeant",
    desc: "Tu veux comprendre ET que ce soit juste. La pr√©cision est ta valeur centrale.",
    concret: "Tu creuses, tu v√©rifies, tu recommences si ce n'est pas assez exact.",
    glitch: "Tu peux passer des heures sur un d√©tail qui ne change pas le r√©sultat global.",
    reboot: "Demande-toi : 'Quelle est la diff√©rence r√©elle entre 95% et 100% ici ?'"
  },
  "analyse-sensibilite": {
    title: "Le Penseur Sensible",
    desc: "Tu ressens profond√©ment ET tu dois tout comprendre. T√™te et c≈ìur en tension permanente.",
    concret: "Tu analyses tes propres √©motions au lieu de les traverser.",
    glitch: "L'analyse peut devenir une fa√ßon d'√©viter de vraiment ressentir.",
    reboot: "Laisse une √©motion exister 3 minutes sans chercher √† l'expliquer."
  },
  "analyse-puissance": {
    title: "Le Strat√®ge Dominant",
    desc: "Tu comprends les dynamiques ET tu veux les ma√Ætriser.",
    concret: "Tu lis les situations mieux que la plupart ‚Äî et tu utilises √ßa pour garder la main.",
    glitch: "Tu peux manipuler sans t'en rendre compte, en utilisant l'analyse comme levier.",
    reboot: "Partage une analyse sans en tirer un avantage. Juste pour connecter."
  },
  "controle-performance": {
    title: "La Machine Efficace",
    desc: "Tu planifies ET tu produis. Ton syst√®me tourne √† plein r√©gime.",
    concret: "Tu es fiable, organis√©(e), productif(ve) ‚Äî et tu n'as pas le droit de faillir.",
    glitch: "Quand quelque chose √©chappe √† ton plan, tout peut s'effondrer d'un coup.",
    reboot: "Cr√©e volontairement un plan imparfait et suis-le quand m√™me."
  },
  "controle-rigueur": {
    title: "L'Architecte Rigide",
    desc: "Tu contr√¥les ET tu exiges la perfection. Rien ne doit d√©passer.",
    concret: "Ton environnement, ton travail, tes relations ‚Äî tout doit √™tre √† sa place.",
    glitch: "Tu peux √©touffer ce qui t'entoure avec des standards impossibles √† tenir.",
    reboot: "Choisis un espace ou un projet et autorise-toi √† le laisser 'assez bien'."
  },
  "controle-sensibilite": {
    title: "Le Gardien √âmotionnel",
    desc: "Tu veux contr√¥ler ET tu es tr√®s sensible √† l'ambiance autour de toi.",
    concret: "Tu anticipes les besoins des autres pour maintenir l'√©quilibre ‚Äî avant m√™me qu'ils parlent.",
    glitch: "Tu peux t'√©puiser √† g√©rer des √©motions qui ne t'appartiennent pas.",
    reboot: "Demande-toi : 'Est-ce que j'anticipe pour eux, ou pour √©viter mon propre inconfort ?'"
  },
  "controle-puissance": {
    title: "Le Chef de Guerre",
    desc: "Tu contr√¥les ET tu t'imposes. L'autorit√© est ton terrain naturel.",
    concret: "Tu sais ce que tu veux, comment y arriver ‚Äî et tu t'assures que √ßa se passe comme pr√©vu.",
    glitch: "Tu peux √©craser sans le vouloir ‚Äî parce que ton niveau d'exigence d√©passe ce que les autres peuvent tenir.",
    reboot: "D√©l√®gue quelque chose d'important cette semaine. Sans v√©rifier derri√®re."
  },
  "performance-rigueur": {
    title: "L'Ambitieux Impitoyable",
    desc: "Tu veux produire ET que ce soit parfait. Double pression, tout le temps.",
    concret: "Tu livres beaucoup ‚Äî mais tu n'es jamais vraiment satisfait(e) du r√©sultat.",
    glitch: "Le combo performance + rigueur peut mener √† l'√©puisement silencieux.",
    reboot: "C√©l√®bre une r√©alisation cette semaine ‚Äî sans la nuancer avec un 'mais'."
  },
  "performance-sensibilite": {
    title: "L'Empathique D√©bord√©",
    desc: "Tu produis beaucoup ET tu ressens beaucoup. Tu donnes sur tous les fronts.",
    concret: "Tu es pr√©sent(e) pour les autres, tu livres au travail ‚Äî et tu te demandes pourquoi tu es √©puis√©(e).",
    glitch: "Tu peux t'oublier compl√®tement dans la somme de tout ce que tu donnes.",
    reboot: "Identifie une chose que tu fais uniquement pour toi cette semaine."
  },
  "performance-puissance": {
    title: "Le Leader Br√ªlant",
    desc: "Tu produis ET tu t'imposes. Ton impact est fort ‚Äî et constant.",
    concret: "Tu avances vite, tu entra√Ænes les autres ‚Äî parfois sans remarquer ceux qui d√©crochent.",
    glitch: "L'intensit√© √©motionnelle peut prendre la forme de la force ‚Äî et blesser.",
    reboot: "Avant d'agir sous une √©motion forte, attends 10 minutes. Puis d√©cide."
  },
  "rigueur-sensibilite": {
    title: "Le Juge Compatissant",
    desc: "Tu t'exiges beaucoup ET tu ressens profond√©ment. Tu te juges avec la m√™me intensit√© que tu compassionnes.",
    concret: "Tu es souvent plus doux(ce) avec les autres qu'avec toi-m√™me.",
    glitch: "L'autocritique peut devenir une boucle que la sensibilit√© amplifie.",
    reboot: "Parle-toi comme tu parlerais √† quelqu'un que tu aimes vraiment."
  },
  "rigueur-puissance": {
    title: "L'Exigeant Absolu",
    desc: "Tu t'imposes des standards ET tu veux un impact fort. Rien n'est jamais assez.",
    concret: "Tu te bats pour que les choses soient bien faites ‚Äî et tu attends la m√™me chose des autres.",
    glitch: "Tu peux isoler ceux qui ne tiennent pas tes standards ‚Äî sans le vouloir.",
    reboot: "Identifie quelqu'un qui fait de son mieux diff√©remment. Remarque-le vraiment."
  },
  "sensibilite-puissance": {
    title: "L'Intensif Vuln√©rable",
    desc: "Tu ressens fort ET tu t'imposes fort. Deux intensit√©s en tension permanente.",
    concret: "Tu peux √™tre profond√©ment touchant(e) et inspirant(e) ‚Äî ou d√©vastateur(trice) sans le vouloir.",
    glitch: "L'intensit√© √©motionnelle peut prendre la forme de la force ‚Äî et blesser.",
    reboot: "Avant d'agir sous une √©motion forte, attends 10 minutes. Puis d√©cide."
  }
};

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// 5. TEXTES MODULATEURS (SHADOWS 2 / 7 / 9)
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

const shadowTexts = {
  harmonie: {
    label: "Tendance de fond : recherche de paix",
    text: "Ton syst√®me cherche aussi √† pr√©server l'harmonie ‚Äî parfois au prix de tes propres besoins. Tu absorbes les tensions des autres pour que tout reste stable."
  },
  enthousiasme: {
    label: "Tendance de fond : fuite vers le mouvement",
    text: "En toile de fond, ton syst√®me √©vite l'inconfort en se jetant dans le prochain projet, la prochaine id√©e. Le mouvement comme anesth√©sie."
  },
  lien: {
    label: "Tendance de fond : besoin d'√™tre indispensable",
    text: "Sous la surface, une partie de toi calcule comment rester pr√©cieux¬∑se pour les autres. Aider, anticiper leurs besoins ‚Äî pour ne jamais √™tre laiss√©¬∑e de c√¥t√©."
  }
};

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// 6. RENDU DU QUIZ
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

function renderQuiz() {
  const container = document.getElementById('questionsContainer');
  container.innerHTML = '';

  questions.forEach((q, i) => {
    const block = document.createElement('div');
    block.className = 'question-block';
    block.innerHTML = `
      <p class="question-number">Question ${i + 1} / ${TOTAL_Q}</p>
      <p class="question-text">${q.text}</p>
      <div class="options" id="opts-${i}"></div>
    `;
    container.appendChild(block);

    const optsDiv = block.querySelector(`#opts-${i}`);
    // ‚Üê M√©lange des options ici
    const shuffled = shuffle(q.options);
    shuffled.forEach(opt => {
      const btn = document.createElement('button');
      btn.className = 'option-btn';
      btn.textContent = opt.label;
      btn.onclick = () => selectOption(i, opt, btn, optsDiv);
      optsDiv.appendChild(btn);
    });
  });

  updateProgress();
}

function selectOption(qIndex, opt, btn, optsDiv) {
  optsDiv.querySelectorAll('.option-btn').forEach(b => b.classList.remove('selected'));
  btn.classList.add('selected');
  // On stocke l'objet entier (profile + shadow √©ventuel)
  answers[qIndex] = opt;
  updateProgress();
  checkSubmit();
}

function updateProgress() {
  const answered = Object.keys(answers).length;
  const pct = (answered / TOTAL_Q) * 100;
  document.getElementById('progressFill').style.width = pct + '%';
}

function checkSubmit() {
  const answered = Object.keys(answers).length;
  document.getElementById('submitBtn').disabled = answered < TOTAL_Q;
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// 7. CALCUL ET AFFICHAGE DES R√âSULTATS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

function showResults() {
  if (Object.keys(answers).length < TOTAL_Q) {
    document.getElementById('errorMsg').style.display = 'block';
    return;
  }

  // Scores principaux
  const scores = {
    analyse: 0, controle: 0, performance: 0,
    rigueur: 0, sensibilite: 0, puissance: 0
  };

  // Scores shadows
  const shadowScores = {
    harmonie: 0,
    enthousiasme: 0,
    lien: 0
  };

  Object.values(answers).forEach(opt => {
    if (opt.profile) scores[opt.profile]++;
    if (opt.shadow) shadowScores[opt.shadow]++;
  });

  const sorted = Object.entries(scores).sort((a, b) => b[1] - a[1]);
  const [key1, score1] = sorted[0];
  const [key2, score2] = sorted[1];
  const total = TOTAL_Q;

  const p1 = profiles[key1];
  const p2 = profiles[key2];

  // Combo mixte ?
  const comboKey = [key1, key2].sort().join('-');
  const mix = (score2 >= 3 && combos[comboKey]) ? combos[comboKey] : null;

  // Shadow dominant ?
  const shadowSorted = Object.entries(shadowScores).sort((a, b) => b[1] - a[1]);
  const shadowDominant = shadowSorted[0];
  const hasShadow = shadowDominant[1] >= 2;
  const shadowKey = hasShadow ? shadowDominant[0] : null;

  // Construction du HTML
  let html = `
    <p class="section-content" style="color:#aaa; font-size:0.9rem; line-height:1.6; margin-bottom:24px;">
      Dans Brainlag, on parle parfois de "bug".<br>
      Pas parce que quelque chose ne va pas,<br>
      mais parce que ton syst√®me se d√©clenche tout seul.
    </p>

    <span class="tag tag-dominant">üß¨ Ton brainlag dominant</span>
    <h2>${p1.name}</h2>
    <p>${p1.brainlag}</p>

    <div class="profile-card" style="border-color: ${p1.color}22;">
      <div class="profile-header">
        <img
          src="${p1.img}"
          alt="${p1.name}"
          class="profile-avatar"
          style="border-color: ${p1.color};"
          onerror="this.style.display='none'"
        >
        <div>
          <div class="profile-title" style="color:${p1.color}">${p1.emoji} ${p1.name}</div>
          <div class="profile-subtitle">${p1.mode}</div>
        </div>
      </div>

      <p class="section-label">Le brainlag</p>
      <p class="section-content">${p1.brainlag}</p>

      <p class="section-label">L'hypoth√®se cach√©e</p>
      <p class="section-content" style="font-style:italic; color:#aaa">${p1.hypothese}</p>

      <p class="section-label">Comment tu te prot√®ges</p>
      <p class="section-content">${p1.protection}</p>

      <p class="section-label">‚ö† Le glitch</p>
      <p class="section-content">${p1.glitch}</p>

      <p class="section-label">üîß Reboot ‚Äî Par o√π commencer</p>
      <ul class="steps">
        ${p1.reboot.map(r => `<li>${r}</li>`).join('')}
      </ul>
    </div>

    <hr class="divider">
  `;

  // Profil secondaire
  if (score2 >= 2) {
    html += `
      <span class="tag tag-secondary">üåÄ Ton mode secondaire</span>
      <div class="profile-card" style="border-color: ${p2.color}22; opacity: 0.85;">
        <div class="profile-header">
          <img
            src="${p2.img}"
            alt="${p2.name}"
            class="profile-avatar"
            style="border-color: ${p2.color}; width:64px; height:64px;"
            onerror="this.style.display='none'"
          >
          <div>
            <div class="profile-title" style="color:${p2.color}">${p2.emoji} ${p2.name}</div>
            <div class="profile-subtitle">${p2.mode}</div>
          </div>
        </div>
        <p class="section-label">Le brainlag</p>
        <p class="section-content">${p2.brainlag}</p>
        <p class="section-label">‚ö† Le glitch</p>
        <p class="section-content">${p2.glitch}</p>
      </div>
      <hr class="divider">
    `;
  }

  // Combo mixte
  if (mix) {
    html += `
      <span class="tag tag-combo">‚ö° Combo d√©tect√©</span>
      <div class="combo-card">
        <div class="combo-title">${mix.title}</div>
        <p class="combo-desc">${mix.desc}</p>
        <p class="section-label" style="margin-top:12px;">Concr√®tement</p>
        <p class="combo-desc">${mix.concret}</p>
        <p class="section-label" style="margin-top:12px;">‚ö† Le glitch</p>
        <p class="combo-desc">${mix.glitch}</p>
        <p class="section-label" style="margin-top:12px;">üîß Reboot</p>
        <p class="combo-desc">${mix.reboot}</p>
      </div>
      <hr class="divider">
    `;
  }

  // Modulateur shadow (invisible, affich√© seulement si seuil atteint)
  if (shadowKey && shadowTexts[shadowKey]) {
    const shadow = shadowTexts[shadowKey];
    html += `
      <div class="shadow-block">
        <p class="shadow-label">‚óà ${shadow.label}</p>
        <p class="shadow-text">${shadow.text}</p>
      </div>
      <hr class="divider">
    `;
  }

  // Barres de score
  html += `
    <p class="section-label">R√©partition de ton syst√®me</p>
    <div class="score-bars">
  `;
  sorted.forEach(([key, val]) => {
    const p = profiles[key];
    html += `
      <div class="score-row">
        <span class="score-label">${p.emoji} ${key}</span>
        <div class="score-bar">
          <div class="score-bar-fill" style="width:${(val / total) * 100}%; background:${p.color}"></div>
        </div>
        <span class="score-val">${val}</span>
      </div>
    `;
  });
  html += `</div>`;

  // Affichage
  document.getElementById('quizSection').style.display = 'none';
  const resultSection = document.getElementById('resultSection');
  resultSection.style.display = 'block';
  document.getElementById('resultContent').innerHTML = html;
  window.scrollTo(0, 0);
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// 8. ACTIONS FINALES
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

function shareQuiz() {
  const url = window.location.href;
  if (navigator.share) {
    navigator.share({
      title: 'Ton Brainlag',
      text: 'D√©couvre ton profil de d√©calage c√©r√©bral',
      url: url
    });
  } else {
    navigator.clipboard.writeText(url).then(() => {
      alert('Lien copi√© !');
    });
  }
}

function restartQuiz() {
  answers = {};
  document.getElementById('resultSection').style.display = 'none';
  document.getElementById('quizSection').style.display = 'block';
  document.getElementById('submitBtn').disabled = true;
  document.getElementById('errorMsg').style.display = 'none';
  renderQuiz();
  window.scrollTo(0, 0);
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// 9. INIT
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

renderQuiz();

</script>
</body>
</html>
