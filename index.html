<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ton Brainlag</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', sans-serif;
      background: #0a0a0a;
      color: #f0f0f0;
      min-height: 100vh;
      padding: 20px;
    }

    .container {
      max-width: 680px;
      margin: 0 auto;
      padding: 40px 20px;
    }

    /* â”€â”€ QUIZ â”€â”€ */
    .quiz-section {
      display: block;
    }

    .result-section {
      display: none;
    }

    h1 {
      font-size: 1.8rem;
      text-align: center;
      margin-bottom: 10px;
      letter-spacing: 1px;
    }

    .subtitle {
      text-align: center;
      color: #888;
      margin-bottom: 40px;
      font-size: 0.95rem;
      line-height: 1.6;
    }

    .question-block {
      margin-bottom: 36px;
    }

    .question-text {
      font-size: 1rem;
      font-weight: 600;
      margin-bottom: 14px;
      color: #e0e0e0;
      padding-bottom: 8px;
      border-bottom: 1px solid #222;
    }

    .question-number {
      color: #666;
      font-size: 0.8rem;
      margin-bottom: 6px;
    }

    .options {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .option {
      background: #111;
      border: 1px solid #2a2a2a;
      border-radius: 10px;
      padding: 14px 18px;
      cursor: pointer;
      transition: all 0.2s;
      font-size: 0.92rem;
      color: #ccc;
      text-align: left;
    }

    .option:hover {
      border-color: #555;
      background: #1a1a1a;
      color: #fff;
    }

    .option.selected {
      border-color: #7c6af7;
      background: #1a1530;
      color: #fff;
    }

    .progress-bar {
      width: 100%;
      height: 4px;
      background: #1a1a1a;
      border-radius: 2px;
      margin-bottom: 40px;
    }

    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, #7c6af7, #c084fc);
      border-radius: 2px;
      transition: width 0.4s;
      width: 0%;
    }

    .btn {
      display: block;
      width: 100%;
      padding: 16px;
      background: linear-gradient(135deg, #7c6af7, #c084fc);
      border: none;
      border-radius: 12px;
      color: white;
      font-size: 1rem;
      font-weight: 700;
      cursor: pointer;
      margin-top: 30px;
      letter-spacing: 0.5px;
      transition: opacity 0.2s;
    }

    .btn:hover {
      opacity: 0.9;
    }

    .btn:disabled {
      opacity: 0.3;
      cursor: not-allowed;
    }

    .error-msg {
      color: #f87171;
      font-size: 0.85rem;
      text-align: center;
      margin-top: 12px;
      display: none;
    }

    /* â”€â”€ RÃ‰SULTATS â”€â”€ */
    .divider {
      border: none;
      border-top: 1px solid #2a2a2a;
      margin: 28px 0;
    }

    .tag {
      display: inline-block;
      padding: 4px 12px;
      border-radius: 20px;
      font-size: 0.75rem;
      font-weight: 700;
      letter-spacing: 1px;
      text-transform: uppercase;
      margin-bottom: 12px;
    }

    .tag-dominant {
      background: #1a1530;
      color: #c084fc;
      border: 1px solid #7c6af7;
    }

    .tag-secondary {
      background: #0f1f1a;
      color: #6ee7b7;
      border: 1px solid #34d399;
    }

    .tag-mix {
      background: #1a1200;
      color: #fbbf24;
      border: 1px solid #f59e0b;
    }

    .profile-title {
      font-size: 1.6rem;
      font-weight: 800;
      margin-bottom: 8px;
    }

    .profile-subtitle {
      color: #888;
      font-size: 0.9rem;
      margin-bottom: 20px;
    }

    .section-label {
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 2px;
      color: #666;
      margin-bottom: 8px;
    }

    .section-content {
      color: #ddd;
      line-height: 1.7;
      font-size: 0.95rem;
      margin-bottom: 20px;
    }

    .steps {
      list-style: none;
      padding: 0;
    }

    .steps li {
      padding: 10px 0;
      padding-left: 28px;
      position: relative;
      color: #ccc;
      font-size: 0.92rem;
      line-height: 1.5;
      border-bottom: 1px solid #1a1a1a;
    }

    .steps li:last-child {
      border-bottom: none;
    }

    .steps li::before {
      content: attr(data-n);
      position: absolute;
      left: 0;
      color: #7c6af7;
      font-weight: 700;
      font-size: 0.85rem;
    }

    .next-steps {
      background: #111;
      border: 1px solid #2a2a2a;
      border-radius: 14px;
      padding: 24px;
      margin-top: 10px;
    }

    .next-steps p {
      color: #bbb;
      font-size: 0.9rem;
      line-height: 1.7;
      margin-bottom: 6px;
    }

    .btn-outline {
      display: block;
      width: 100%;
      padding: 14px;
      background: transparent;
      border: 1px solid #7c6af7;
      border-radius: 12px;
      color: #c084fc;
      font-size: 0.95rem;
      font-weight: 600;
      cursor: pointer;
      margin-top: 12px;
      transition: all 0.2s;
      text-align: center;
      text-decoration: none;
    }

    .btn-outline:hover {
      background: #1a1530;
    }

    .score-bar-wrap {
      margin-bottom: 8px;
    }

    .score-bar-label {
      display: flex;
      justify-content: space-between;
      font-size: 0.8rem;
      color: #888;
      margin-bottom: 4px;
    }

    .score-bar {
      height: 6px;
      background: #1a1a1a;
      border-radius: 3px;
      overflow: hidden;
    }

    .score-bar-fill {
      height: 100%;
      border-radius: 3px;
      background: linear-gradient(90deg, #7c6af7, #c084fc);
    }

    .mix-card {
      background: #0f0f1a;
      border: 1px solid #2a2040;
      border-radius: 14px;
      padding: 24px;
      margin-bottom: 10px;
    }
  </style>
</head>
<body>
<div class="container">

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       SECTION QUIZ
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="quiz-section" id="quizSection">

    <h1>ğŸ§  Quel est ton Brainlag ?</h1>
    <p class="subtitle">
      12 questions.<br>
      Pas de bonne rÃ©ponse.<br>
      Juste ton systÃ¨me.
    </p>

    <div class="progress-bar">
      <div class="progress-fill" id="progressFill"></div>
    </div>

    <div id="questionsContainer"></div>

    <button class="btn" id="submitBtn" onclick="calculateResults()">
      Voir mon rÃ©sultat â†’
    </button>
    <p class="error-msg" id="errorMsg">
      âš ï¸ RÃ©ponds Ã  toutes les questions pour continuer.
    </p>

  </div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       SECTION RÃ‰SULTATS
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="result-section" id="resultSection"></div>

</div>

<script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 1. DONNÃ‰ES â€” QUESTIONS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const questions = [
  {
    text: "Face Ã  un problÃ¨me sans solution claire, votre premiÃ¨re rÃ©action est deâ€¦",
    options: [
      { label: "Sur-rÃ©flÃ©chir jusqu'Ã  trouver la logique", profile: "analyse" },
      { label: "Chercher ce qui pourrait mal tourner", profile: "controle" },
      { label: "Faire quelque chose, n'importe quoi", profile: "performance" },
      { label: "Chercher la bonne faÃ§on de faire", profile: "rigueur" },
      { label: "Ressentir l'inconfort de ne pas savoir", profile: "sensibilite" },
      { label: "Prendre les rÃªnes", profile: "puissance" }
    ]
  },
  {
    text: "Quand vous devez prendre une dÃ©cision importanteâ€¦",
    options: [
      { label: "Vous analysez tous les scÃ©narios possibles", profile: "analyse" },
      { label: "Vous vÃ©rifiez plusieurs fois avant de dÃ©cider", profile: "controle" },
      { label: "Vous dÃ©cidez vite pour avancer", profile: "performance" },
      { label: "Vous cherchez la meilleure option possible", profile: "rigueur" },
      { label: "Vous suivez votre ressenti profond", profile: "sensibilite" },
      { label: "Vous dÃ©cidez seul(e), sans demander", profile: "puissance" }
    ]
  },
  {
    text: "Dans une Ã©quipe, votre rÃ´le naturel estâ€¦",
    options: [
      { label: "Celui qui analyse et propose des solutions", profile: "analyse" },
      { label: "Celui qui vÃ©rifie et sÃ©curise", profile: "controle" },
      { label: "Celui qui produit et avance vite", profile: "performance" },
      { label: "Celui qui maintient les standards de qualitÃ©", profile: "rigueur" },
      { label: "Celui qui capte l'ambiance et les non-dits", profile: "sensibilite" },
      { label: "Celui qui oriente et dÃ©cide", profile: "puissance" }
    ]
  },
  {
    text: "Votre plus grand inconfort c'estâ€¦",
    options: [
      { label: "Ne pas comprendre pourquoi", profile: "analyse" },
      { label: "L'imprÃ©vu total", profile: "controle" },
      { label: "Ne pas avancer assez vite", profile: "performance" },
      { label: "L'erreur ou l'imperfection", profile: "rigueur" },
      { label: "Le vide Ã©motionnel ou le manque de sens", profile: "sensibilite" },
      { label: "Perdre le contrÃ´le de la situation", profile: "puissance" }
    ]
  },
  {
    text: "Quand quelque chose ne va pas, vous avez tendance Ã â€¦",
    options: [
      { label: "Tout dÃ©cortiquer pour comprendre", profile: "analyse" },
      { label: "Anticiper le pire et vous prÃ©parer", profile: "controle" },
      { label: "Compenser en faisant plus", profile: "performance" },
      { label: "Corriger jusqu'Ã  ce que ce soit bon", profile: "rigueur" },
      { label: "Absorber l'atmosphÃ¨re autour de vous", profile: "sensibilite" },
      { label: "Reprendre la main immÃ©diatement", profile: "puissance" }
    ]
  },
  {
    text: "Quand la pression monte au travailâ€¦",
    options: [
      { label: "Vous multipliez les analyses", profile: "analyse" },
      { label: "Vous surveillez tout", profile: "controle" },
      { label: "Vous augmentez votre productivitÃ©", profile: "performance" },
      { label: "Vous corrigez les imperfections", profile: "rigueur" },
      { label: "Vous ressentez fortement l'atmosphÃ¨re", profile: "sensibilite" },
      { label: "Vous prenez le leadership", profile: "puissance" }
    ]
  },
  {
    text: "Si quelqu'un vous critiqueâ€¦",
    options: [
      { label: "Vous repassez la scÃ¨ne dans votre tÃªte", profile: "analyse" },
      { label: "Vous cherchez Ã  comprendre ce qui a dÃ©clenchÃ© Ã§a", profile: "controle" },
      { label: "Vous voulez prouver le contraire", profile: "performance" },
      { label: "Vous vous reprochez de ne pas avoir fait mieux", profile: "rigueur" },
      { label: "Vous le vivez intensÃ©ment", profile: "sensibilite" },
      { label: "Vous rÃ©agissez immÃ©diatement", profile: "puissance" }
    ]
  },
  {
    text: "Quand vous vous sentez dÃ©passÃ©(e)â€¦",
    options: [
      { label: "Vous entrez dans le mental", profile: "analyse" },
      { label: "Vous tentez de reprendre le contrÃ´le", profile: "controle" },
      { label: "Vous accÃ©lÃ©rez", profile: "performance" },
      { label: "Vous devenez plus rigide", profile: "rigueur" },
      { label: "Vous vous sentez submergÃ©(e)", profile: "sensibilite" },
      { label: "Vous durcissez votre posture", profile: "puissance" }
    ]
  },
  {
    text: "Dans un conflitâ€¦",
    options: [
      { label: "Vous cherchez Ã  tout comprendre", profile: "analyse" },
      { label: "Vous essayez d'Ã©viter les imprÃ©vus", profile: "controle" },
      { label: "Vous voulez garder une image forte", profile: "performance" },
      { label: "Vous voulez que ce soit juste et impeccable", profile: "rigueur" },
      { label: "Vous ressentez profondÃ©ment la tension", profile: "sensibilite" },
      { label: "Vous prenez position clairement", profile: "puissance" }
    ]
  },
  {
    text: "Quand vous sentez perdre l'alignementâ€¦",
    options: [
      { label: "Votre esprit tourne en boucle", profile: "analyse" },
      { label: "Vous tentez de tout sÃ©curiser", profile: "controle" },
      { label: "Vous faites davantage", profile: "performance" },
      { label: "Vous vous jugez sÃ©vÃ¨rement", profile: "rigueur" },
      { label: "Vous Ãªtes envahi(e) intÃ©rieurement", profile: "sensibilite" },
      { label: "Vous passez en mode action", profile: "puissance" }
    ]
  },
  {
    text: "Dans l'urgenceâ€¦",
    options: [
      { label: "Vous analysez les scÃ©narios possibles", profile: "analyse" },
      { label: "Vous vÃ©rifiez les risques", profile: "controle" },
      { label: "Vous voulez performer", profile: "performance" },
      { label: "Vous exigez le meilleur rÃ©sultat", profile: "rigueur" },
      { label: "Vous ressentez une intensitÃ© forte", profile: "sensibilite" },
      { label: "Vous agissez vite", profile: "puissance" }
    ]
  },
  {
    text: "Ce qui vous Ã©puise le plus profondÃ©ment, c'estâ€¦",
    options: [
      { label: "Sur-rÃ©flÃ©chir sans trouver de rÃ©ponse", profile: "analyse" },
      { label: "Sur-contrÃ´ler sans pouvoir lÃ¢cher", profile: "controle" },
      { label: "Sur-performer sans vous sentir vu(e)", profile: "performance" },
      { label: "Sur-corriger sans jamais Ãªtre satisfait(e)", profile: "rigueur" },
      { label: "Sur-ressentir sans pouvoir vous protÃ©ger", profile: "sensibilite" },
      { label: "Sur-imposer sans Ãªtre vraiment entendu(e)", profile: "puissance" }
    ]
  }
];

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 2. DONNÃ‰ES â€” PROFILS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const profiles = {
  analyse: {
    name: "Eliot",
    mode: "L'Observateur",
    emoji: "ğŸ”µ",
    color: "#6366f1",
    brainlag: "Ton cerveau tourne en boucle. Il analyse, dÃ©cortique, cherche la logique â€” mÃªme quand il n'y en a pas. C'est ton systÃ¨me de protection : comprendre pour ne pas Ãªtre surpris.",
    hypothese: "\"Si je comprends tout, rien ne peut me blesser ou me dÃ©passer.\"",
    protection: "Tu prends de la distance. Tu observes avant d'agir. Tu collectes des informations pour te sentir en sÃ©curitÃ© dans ta propre tÃªte.",
    glitch: "Tu dÃ©penses une Ã©nergie Ã©norme Ã  penser. Et pendant ce temps, tu n'agis pas. Tu restes dans le mental pour Ã©viter le contact avec ce qui pourrait te submerger.",
    reboot: [
      "Pose-toi cette question : 'Est-ce que j'ai besoin de comprendre davantage, ou est-ce que j'ai dÃ©jÃ  assez d'infos pour agir ?'",
      "Fixe-toi une limite mentale : 10 minutes d'analyse max, puis une action concrÃ¨te â€” mÃªme petite.",
      "Remarque quand tu utilises 'j'analyse' pour Ã©viter de ressentir quelque chose d'inconfortable.",
      "Pratique une chose par semaine qui ne se comprend pas â€” qui se vit juste.",
      "Offre ton analyse Ã  quelqu'un : partager ce que tu penses sort la connaissance de ta tÃªte et la met en mouvement."
    ]
  },
  controle: {
    name: "Jiwooh",
    mode: "L'Architecte de SÃ©curitÃ©",
    emoji: "âšª",
    color: "#94a3b8",
    brainlag: "Ton systÃ¨me surveille en permanence. Il anticipe les risques, vÃ©rifie les dÃ©tails, construit des plans B. C'est ton bouclier contre l'imprÃ©vu.",
    hypothese: "\"Le monde est imprÃ©visible et dangereux. Si je contrÃ´le tout, rien de grave ne peut arriver.\"",
    protection: "Tu structures, tu planifies, tu vÃ©rifies plusieurs fois. Tu Ã©vites les situations non maÃ®trisÃ©es. Tu prÃ©fÃ¨res ne pas commencer plutÃ´t que de risquer l'Ã©chec.",
    glitch: "Le contrÃ´le constant est Ã©puisant. Il t'empÃªche de faire confiance â€” aux autres, Ã  la vie, Ã  toi-mÃªme. Et ce que tu contrÃ´les le plus, c'est souvent ce qui t'Ã©chappe quand mÃªme.",
    reboot: [
      "Identifie une chose que tu vÃ©rifies trop souvent. Autorise-toi Ã  ne pas la vÃ©rifier une fois.",
      "Demande-toi : 'Quel est le vrai pire cas ici ? Et serais-je capable d'y faire face ?'",
      "EntraÃ®ne-toi Ã  faire confiance Ã  quelqu'un sur une petite chose â€” et observe ce qui se passe vraiment.",
      "Note les fois oÃ¹ tu n'as pas tout contrÃ´lÃ© et oÃ¹ Ã§a s'est bien passÃ© quand mÃªme.",
      "Pratique la cohÃ©rence cardiaque (5 min) pour envoyer un signal de sÃ©curitÃ© Ã  ton systÃ¨me nerveux."
    ]
  },
  performance: {
    name: "Luna",
    mode: "La Performeuse",
    emoji: "ğŸŸ¡",
    color: "#eab308",
    brainlag: "Ton systÃ¨me accÃ©lÃ¨re quand Ã§a va mal. Tu fais plus, tu montres plus, tu prouves plus. Exister passe par Ãªtre vu(e) et reconnu(e) pour ce que tu produis.",
    hypothese: "\"Si je performe assez, si je suis assez visible, alors j'existerai vraiment.\"",
    protection: "Tu remplis le vide avec l'action. Tu te montres, tu avances, tu produces. Tu Ã©vites les moments de silence oÃ¹ tu ne saurais plus qui tu es.",
    glitch: "La course ne s'arrÃªte jamais â€” parce que la validation externe ne remplit jamais durablement. Tu t'Ã©puises Ã  prouver ce qui ne peut pas Ãªtre prouvÃ© de l'extÃ©rieur.",
    reboot: [
      "Pose-toi cette question : 'Si personne ne me voyait aujourd'hui, qu'est-ce que je choisirais de faire ?'",
      "Fais une chose pour toi uniquement â€” pas pour Ãªtre vu(e), pas pour produire.",
      "Passe 1h sans consulter tes notifications ni parler de ce que tu fais.",
      "Identifie 3 moments cette semaine oÃ¹ tu t'es senti(e) vivant(e) sans performance.",
      "Remarque la diffÃ©rence entre 'j'ai envie de faire Ã§a' et 'je dois faire Ã§a pour que Ã§a soit bien'."
    ]
  },
  rigueur: {
    name: "Clara",
    mode: "La Gardienne",
    emoji: "ğŸŸ¢",
    color: "#22c55e",
    brainlag: "Ton systÃ¨me cherche la perfection. Il corrige, ajuste, recommence. Il fixe sur ce qui ne va pas encore plutÃ´t que sur ce qui fonctionne dÃ©jÃ .",
    hypothese: "\"Si c'est parfait, personne ne pourra me critiquer. Et je pourrai enfin me reposer.\"",
    protection: "Tu maintiiens des standards trÃ¨s Ã©levÃ©s â€” pour toi et parfois pour les autres. Tu corriges les dÃ©tails. Tu ne lÃ¢ches pas tant que ce n'est pas bon.",
    glitch: "La barre monte toujours. Le 'assez bien' n'arrive jamais vraiment. Et l'Ã©nergie dÃ©pensÃ©e Ã  corriger ce qui est dÃ©jÃ  bon aurait pu crÃ©er quelque chose de nouveau.",
    reboot: [
      "DÃ©finis Ã  l'avance ce que 'assez bon' signifie pour cette tÃ¢che prÃ©cise. Tiens-toi Ã  cette dÃ©finition.",
      "Identifie une chose que tu corriges souvent et demande-toi : 'Est-ce que Ã§a change vraiment quelque chose ?'",
      "Remarque le moment oÃ¹ tu passes de 'amÃ©liorer' Ã  'sur-corriger'. C'est le glitch.",
      "Pratique l'EFT sur la phrase 'Je peux laisser Ã§a imparfait et rester en sÃ©curitÃ©'.",
      "CÃ©lÃ¨bre une chose que tu as bien faite sans la corriger ensuite."
    ]
  },
  sensibilite: {
    name: "Mar",
    mode: "Le FantÃ´me Sensible",
    emoji: "ğŸŸ£",
    color: "#a855f7",
    brainlag: "Ton systÃ¨me ressent tout trÃ¨s fort. Les ambiances, les tensions, les non-dits. Tu absorbes l'environnement Ã©motionnel autour de toi â€” souvent avant de t'en rendre compte.",
    hypothese: "\"Si je ressens trop fort, je vais me perdre. Ou pire â€” je vais dÃ©ranger.\"",
    protection: "Tu t'effaces. Tu observes de loin. Tu gardes l'intensitÃ© de ce que tu ressens pour toi, pour ne pas faire peser les autres.",
    glitch: "En te protÃ©geant de l'extÃ©rieur, tu te coupes aussi de la connexion. Tu te retrouves Ã  la fois trop prÃ©sent(e) intÃ©rieurement et invisible relationnellement.",
    reboot: [
      "Note chaque jour une Ã©motion que tu as ressentie â€” sans la juger ni l'expliquer. Juste la nommer.",
      "Remarque quand tu t'effaces pour 'ne pas dÃ©ranger'. C'est le glitch.",
      "Partage quelque chose que tu ressens Ã  quelqu'un de confiance â€” mÃªme une petite chose.",
      "Pratique l'EFT sur 'Mon intensitÃ© n'est pas un fardeau pour les autres'.",
      "Identifie 3 moments oÃ¹ ta sensibilitÃ© t'a permis de percevoir quelque chose que les autres n'avaient pas vu."
    ]
  },
  puissance: {
    name: "Malik",
    mode: "Le Rempart",
    emoji: "ğŸ”´",
    color: "#ef4444",
    brainlag: "Ton systÃ¨me passe Ã  l'action sous pression. Il prend position, impose le rythme, refuse de laisser la situation te dÃ©passer. La force est ta rÃ©ponse par dÃ©faut.",
    hypothese: "\"Si je montre que je suis fort(e), personne ne pourra m'atteindre vraiment.\"",
    protection: "Tu prends le leadership. Tu dÃ©cides seul(e). Tu avances vite et fort â€” pour ne pas laisser la place Ã  la vulnÃ©rabilitÃ© ou au doute.",
    glitch: "La force permanente isole. Elle empÃªche les autres de t'approcher vraiment. Et elle te coÃ»te une Ã©nergie immense â€” parce qu'on ne peut pas tenir indÃ©finiment sans lÃ¢cher.",
    reboot: [
      "Identifie un moment cette semaine oÃ¹ tu aurais pu demander de l'aide â€” et ne l'as pas fait.",
      "Observe : quand tu passes en mode 'rempart', est-ce de la force ou de la peur dÃ©guisÃ©e ?",
      "Pratique de laisser quelqu'un d'autre dÃ©cider sur une chose non-essentielle.",
      "Remarque ce que tu ressens quand tu n'as pas le contrÃ´le. Reste avec Ã§a 2 minutes.",
      "Dis Ã  quelqu'un de confiance une chose dans laquelle tu n'es pas sÃ»r(e) de toi."
    ]
  }
};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 3. DONNÃ‰ES â€” COMBOS MIXTES
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const mixedProfiles = {
  "analyse-controle": {
    title: "L'Analyste BlindÃ©",
    desc: "Tu penses pour contrÃ´ler. Tu contrÃ´les pour ne pas avoir Ã  ressentir. Ton cerveau est en permanence en mode 'prÃ©vision des risques'.",
    concret: "Tu structures tes analyses pour anticiper l'imprÃ©vu. Quand quelque chose sort du cadre, tu rentres dans le mental pour retrouver le contrÃ´le.",
    glitch: "Tu dÃ©penses ton Ã©nergie Ã  comprendre ET Ã  sÃ©curiser â€” sans jamais passer Ã  l'action ou te permettre de faire confiance.",
    reboot: "Commence par une seule action sans avoir tout analysÃ©. Observe ce qui se passe rÃ©ellement."
  },
  "analyse-performance": {
    title: "Le StratÃ¨ge Invisible",
    desc: "Tu analyses pour performer mieux. Tu veux Ãªtre vu(e) â€” mais seulement quand tu es prÃªt(e), quand tu as compris, quand c'est parfait.",
    concret: "Tu prÃ©pares longuement avant d'agir. Tu veux montrer quelque chose de solide. Mais parfois tu n'agis jamais parce que l'analyse ne se termine pas.",
    glitch: "La recherche de la performance parfaite te garde dans le mental. Tu n'es jamais assez prÃªt(e) pour te montrer.",
    reboot: "Lance quelque chose d'imparfait cette semaine. Observe si le monde s'effondre â€” ou pas."
  },
  "analyse-rigueur": {
    title: "L'Architecte du DÃ©tail",
    desc: "Tu veux comprendre ET que ce soit parfait. Ton cerveau cherche la logique exacte de chaque chose, puis la corrige jusqu'Ã  ce qu'elle soit irrÃ©prochable.",
    concret: "Tu passes du temps Ã  dÃ©cortiquer â€” puis Ã  ajuster. Tu es exigeant(e) envers toi-mÃªme sur la qualitÃ© de tes rÃ©flexions autant que de tes actions.",
    glitch: "Tu t'Ã©puises dans la profondeur. Une analyse qui dure + une correction qui ne finit pas = une Ã©nergie qui ne se renouvelle pas.",
    reboot: "DÃ©finis ce que 'assez compris' et 'assez bon' signifient avant de commencer. ArrÃªte-toi quand tu y es."
  },
  "analyse-sensibilite": {
    title: "L'InterprÃ¨te IntÃ©rieur",
    desc: "Tu ressens intensÃ©ment â€” et tu analyses tout ce que tu ressens. Chaque Ã©motion devient un objet d'Ã©tude. Chaque tension devient une question.",
    concret: "Tu captes les non-dits, les ambiances, les dynamiques â€” puis tu passes des heures Ã  les dÃ©cortiquer dans ta tÃªte.",
    glitch: "Tu transformes le ressenti en pensÃ©e pour le rendre 'gÃ©rable'. Mais certaines Ã©motions ne se comprennent pas â€” elles se vivent.",
    reboot: "Cette semaine, laisse une Ã©motion exister sans l'analyser. Juste la nommer et la laisser passer."
  },
  "analyse-puissance": {
    title: "Le StratÃ¨ge Dominant",
    desc: "Tu analyses pour mieux imposer. Tu veux comprendre la situation avant de la contrÃ´ler. Ta force est intellectuelle autant que physique.",
    concret: "Tu prends le leadership aprÃ¨s avoir Ã©valuÃ©. Tu peux paraÃ®tre froid(e) ou calculateur(trice) â€” mais c'est ton systÃ¨me de protection.",
    glitch: "Tu peux utiliser l'analyse pour justifier tes dÃ©cisions a posteriori, plutÃ´t que pour vraiment explorer.",
    reboot: "Essaie de prendre une dÃ©cision en demandant l'avis d'un autre avant d'analyser toi-mÃªme."
  },
  "controle-performance": {
    title: "Le Moteur SÃ©curisÃ©",
    desc: "Tu avances vite â€” mais dans un cadre trÃ¨s contrÃ´lÃ©. Tu performes avec un filet de sÃ©curitÃ© permanent.",
    concret: "Tu planifies chaque action, tu vÃ©rifies avant de lancer, puis tu accÃ©lÃ¨res. Quand quelque chose sort du plan, tu freines brutalement.",
    glitch: "La combinaison contrÃ´le + performance est Ã©puisante. Tu veux aller vite ET Ãªtre sÃ»r(e) â€” ce qui crÃ©e une tension permanente.",
    reboot: "Lance une action sans plan complet. Observe que tu peux improviser et t'adapter."
  },
  "controle-rigueur": {
    title: "L'Architecte Exigeant",
    desc: "Tu veux tout contrÃ´ler ET que tout soit parfait. Ton systÃ¨me de protection double : anticiper les risques et corriger les erreurs.",
    concret: "Tu vÃ©rifies, tu ajustes, tu recommences. Tu peux passer Ã©normÃ©ment de temps sur des dÃ©tails que les autres ne voient pas.",
    glitch: "Tu dÃ©penses ton Ã©nergie Ã  maintenir l'ordre ET la perfection â€” souvent sur des choses qui ne l'exigent pas vraiment.",
    reboot: "Choisis un espace oÃ¹ tu peux lÃ¢cher la perfection ET le contrÃ´le. Commence petit."
  },
  "controle-sensibilite": {
    title: "Le Gardien Silencieux",
    desc: "Tu ressens beaucoup â€” et tu contrÃ´les pour ne pas Ãªtre submergÃ©(e). Tu gÃ¨res l'environnement extÃ©rieur pour protÃ©ger ton monde intÃ©rieur.",
    concret: "Tu anticipes les situations Ã©motionnellement difficiles. Tu structures ton environnement pour Ã©viter d'Ãªtre pris(e) de court.",
    glitch: "Le contrÃ´le t'Ã©puise autant que l'intensitÃ© Ã©motionnelle. Tu te retrouves Ã  gÃ©rer les deux en mÃªme temps.",
    reboot: "Identifie une situation Ã©motionnelle que tu anticipes trop. Laisse-la arriver et observe que tu peux y faire face."
  },
  "controle-puissance": {
    title: "Le Commandant",
    desc: "Tu sÃ©curises ET tu diriges. Tu veux la maÃ®trise totale â€” de la situation et des personnes autour de toi.",
    concret: "Tu prends les dÃ©cisions, tu vÃ©rifies leur exÃ©cution, tu reprends la main si Ã§a dÃ©vie. Tu peux Ãªtre perÃ§u(e) comme inflexible.",
    glitch: "La combinaison contrÃ´le + puissance peut isoler. Les autres se sentent dirigÃ©s plutÃ´t qu'impliquÃ©s.",
    reboot: "Confie une dÃ©cision Ã  quelqu'un sans intervenir. Observe ce que tu ressens quand tu lÃ¢ches."
  },
  "performance-rigueur": {
    title: "Le Perfectionniste Visible",
    desc: "Tu veux performer â€” et que ce soit parfait. Tu ne montres que ce qui est irrÃ©prochable.",
    concret: "Tu travailles Ã©normÃ©ment avant de partager. Tu peux retarder des projets parce qu'ils ne sont 'pas encore prÃªts'.",
    glitch: "La perfection devient un frein Ã  la performance. Tu veux Ãªtre vu(e) â€” mais seulement si c'est excellent. RÃ©sultat : tu n'es souvent pas vu(e) du tout.",
    reboot: "Partage quelque chose Ã  80% de 'parfait'. Observe la rÃ©action rÃ©elle."
  },
  "performance-sensibilite": {
    title: "L'Artiste en ScÃ¨ne",
    desc: "Tu ressens profondÃ©ment ET tu as besoin d'Ãªtre vu(e). Tu performes depuis un endroit Ã©motionnel intense.",
    concret: "Ton travail est chargÃ© de sens et d'Ã©motion. Tu peux Ãªtre trÃ¨s crÃ©atif(ve) â€” mais aussi trÃ¨s fragile face au regard des autres.",
    glitch: "Tu exposes ton monde intÃ©rieur Ã  travers ta performance â€” et la moindre critique touche directement qui tu es.",
    reboot: "CrÃ©e quelque chose juste pour toi, que personne ne verra. Observe la libertÃ© que Ã§a procure."
  },
  "performance-puissance": {
    title: "Le Leader Visible",
    desc: "Tu performes ET tu imposes. Tu veux Ãªtre vu(e) comme quelqu'un de fort et de compÃ©tent.",
    concret: "Tu prends de la place naturellement. Tu avances, tu decides, tu montres. Parfois trop fort pour laisser de l'espace aux autres.",
    glitch: "Tu peux confondre 'Ãªtre fort' et 'Ãªtre invulnÃ©rable'. Et l'invulnÃ©rabilitÃ© coupe la connexion.",
    reboot: "Partage une difficultÃ© rÃ©elle avec quelqu'un. Observe que la force ne disparaÃ®t pas quand tu montres une limite."
  },
  "rigueur-sensibilite": {
    title: "L'Empathique Exigeant",
    desc: "Tu ressens trÃ¨s fort â€” et tu t'exiges d'Ãªtre parfait(e) dans la faÃ§on dont tu gÃ¨res ce ressenti.",
    concret: "Tu es dur(e) avec toi-mÃªme sur tes rÃ©actions Ã©motionnelles. Tu te reproches de trop ressentir ou de ne pas avoir mieux gÃ©rÃ©.",
    glitch: "Tu combines l'Ã©puisement de l'intensitÃ© Ã©motionnelle ET le jugement sur cette intensitÃ©. Double coÃ»t.",
    reboot: "Pratique cette phrase : 'Ce que je ressens est valide, mÃªme si c'est intense.'"
  },
  "rigueur-puissance": {
    title: "Le Juge en Chef",
    desc: "Tu exiges la perfection â€” et tu imposes cette exigence. Tu as des standards Ã©levÃ©s pour toi et pour les autres.",
    concret: "Tu diriges avec des critÃ¨res prÃ©cis. Tu peux Ãªtre extrÃªmement efficace â€” et trÃ¨s difficile Ã  vivre pour ceux qui n'atteignent pas tes standards.",
    glitch: "Ton exigence peut Ãªtre perÃ§ue comme du contrÃ´le ou du mÃ©pris â€” mÃªme quand c'est de la bienveillance.",
    reboot: "Identifie un standard que tu appliques aux autres. Demande-toi si c'est nÃ©cessaire ou si c'est ton glitch."
  },
  "sensibilite-puissance": {
    title: "Le Volcan",
    desc: "Tu ressens fort â€” et tu rÃ©agis fort. L'intensitÃ© intÃ©rieure se transforme rapidement en action ou en explosion.",
    concret: "Tu peux passer de 'absorbÃ©(e) par l'atmosphÃ¨re' Ã  'prise de position tranchÃ©e' trÃ¨s vite. Les autres peuvent te trouver imprÃ©visible.",
    glitch: "Tu confonds intensitÃ© Ã©motionnelle et urgence d'agir. Pas tout ce qui se ressent doit Ãªtre exprimÃ© immÃ©diatement.",
    reboot: "Avant d'agir sur une Ã©motion forte, donne-toi 5 minutes. Observe si l'urgence est toujours lÃ  aprÃ¨s."
  }
};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 4. RENDU DU QUIZ
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const answers = {};

function renderQuiz() {
  const container = document.getElementById('questionsContainer');
  container.innerHTML = '';

  questions.forEach((q, qIndex) => {
    const block = document.createElement('div');
    block.className = 'question-block';
    block.id = `q-block-${qIndex}`;

    block.innerHTML = `
      <p class="question-number">Question ${qIndex + 1} / ${questions.length}</p>
      <p class="question-text">${q.text}</p>
      <div class="options" id="options-${qIndex}"></div>
    `;

    container.appendChild(block);

    const optContainer = block.querySelector(`#options-${qIndex}`);
    q.options.forEach((opt, oIndex) => {
      const btn = document.createElement('button');
      btn.className = 'option';
      btn.textContent = opt.label;
      btn.onclick = () => selectOption(qIndex, oIndex, opt.profile, btn, optContainer);
      optContainer.appendChild(btn);
    });
  });
}

function selectOption(qIndex, oIndex, profile, btn, container) {
  container.querySelectorAll('.option').forEach(b => b.classList.remove('selected'));
  btn.classList.add('selected');
  answers[qIndex] = profile;
  updateProgress();
}

function updateProgress() {
  const answered = Object.keys(answers).length;
  const pct = (answered / questions.length) * 100;
  document.getElementById('progressFill').style.width = pct + '%';
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 5. CALCUL DES RÃ‰SULTATS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

function calculateResults() {
  if (Object.keys(answers).length < questions.length) {
    const errMsg = document.getElementById('errorMsg');
    errMsg.style.display = 'block';

    // Scroll vers la premiÃ¨re question sans rÃ©ponse
    for (let i = 0; i < questions.length; i++) {
      if (!answers[i]) {
        document.getElementById(`q-block-${i}`).scrollIntoView({ behavior: 'smooth', block: 'center' });
        break;
      }
    }
    return;
  }

  // Comptage des scores
  const scores = { analyse: 0, controle: 0, performance: 0, rigueur: 0, sensibilite: 0, puissance: 0 };
  Object.values(answers).forEach(profile => { scores[profile]++; });

  // Tri par score dÃ©croissant
  const sorted = Object.entries(scores).sort((a, b) => b[1] - a[1]);
  const dominant = sorted[0][0];
  const secondary = sorted[1][0];

  renderResults(dominant, secondary, scores);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 6. RENDU DES RÃ‰SULTATS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

function getMixKey(a, b) {
  const order = ['analyse', 'controle', 'performance', 'rigueur', 'sensibilite', 'puissance'];
  return order.indexOf(a) < order.indexOf(b) ? `${a}-${b}` : `${b}-${a}`;
}

function renderResults(dominant, secondary, scores) {
  const p1 = profiles[dominant];
  const p2 = profiles[secondary];
  const mixKey = getMixKey(dominant, secondary);
  const mix = mixedProfiles[mixKey];
  const total = questions.length;

  const html = `
    <!-- â”€â”€ PROFIL DOMINANT â”€â”€ -->
    <span class="tag tag-dominant">âš¡ Mode dominant</span>
    <div class="profile-title">${p1.emoji} ${p1.name} â€” ${p1.mode}</div>
    <p class="profile-subtitle">Score : ${scores[dominant]} / ${total} rÃ©ponses</p>

    <div class="score-bar-wrap">
      <div class="score-bar">
        <div class="score-bar-fill" style="width:${(scores[dominant]/total)*100}%"></div>
      </div>
    </div>

    <hr class="divider">

    <p class="section-label">ğŸ”´ Ton Brainlag</p>
    <p class="section-content">${p1.brainlag}</p>

    <p class="section-label">ğŸ’­ L'hypothÃ¨se danger</p>
    <p class="section-content">${p1.hypothese}</p>

    <p class="section-label">âš™ï¸ Ton mode protection</p>
    <p class="section-content">${p1.protection}</p>

    <p class="section-label">âš ï¸ Ton Glitch systÃ¨me</p>
    <p class="section-content">${p1.glitch}</p>

    <p class="section-label">ğŸ”§ Ton protocole de reboot</p>
    <ul class="steps">
      ${p1.reboot.map((step, i) => `<li data-n="${i+1}.">${step}</li>`).join('')}
    </ul>

    <hr class="divider">

    <!-- â”€â”€ PROFIL SECONDAIRE â”€â”€ -->
    <span class="tag tag-secondary">âœ¦ Mode secondaire</span>
    <div class="profile-title" style="font-size:1.3rem">${p2.emoji} ${p2.name} â€” ${p2.mode}</div>
    <p class="profile-subtitle">Score : ${scores[secondary]} / ${total} rÃ©ponses</p>

    <div class="score-bar-wrap">
      <div class="score-bar">
        <div class="score-bar-fill" style="width:${(scores[secondary]/total)*100}%; background: linear-gradient(90deg, #34d399, #6ee7b7)"></div>
      </div>
    </div>

    <hr class="divider">

    <p class="section-label">ğŸ”´ Ton Brainlag secondaire</p>
    <p class="section-content">${p2.brainlag}</p>

    <p class="section-label">âš™ï¸ Ton mode protection secondaire</p>
    <p class="section-content">${p2.protection}</p>

    <hr class="divider">

    <!-- â”€â”€ COMBO MIXTE â”€â”€ -->
    ${mix ? `
    <span class="tag tag-mix">ğŸ§¬ Ton combo unique</span>
    <div class="mix-card">
      <div class="profile-title" style="font-size:1.3rem">${mix.title}</div>

      <p class="section-label" style="margin-top:16px">Ce que Ã§a crÃ©e</p>
      <p class="section-content">${mix.desc}</p>

      <p class="section-label">ConcrÃ¨tement</p>
      <p class="section-content">${mix.concret}</p>

      <p class="section-label">âš ï¸ Le glitch combinÃ©</p>
      <p class="section-content">${mix.glitch}</p>

      <p class="section-label">ğŸ”§ Par oÃ¹ commencer</p>
      <p class="section-content">${mix.reboot}</p>
    </div>
    ` : ''}

    <hr class="divider">

    <!-- â”€â”€ TOUS LES SCORES â”€â”€ -->
    <p class="section-label">ğŸ“Š Ton tableau de bord complet</p>
    ${Object.entries(scores).sort((a,b) => b[1]-a[1]).map(([key, val]) => `
      <div class="score-bar-wrap">
        <div class="score-bar-label">
          <span>${profiles[key].emoji} ${profiles[key].name}</span>
          <span>${val} / ${total}</span>
        </div>
        <div class="score-bar">
          <div class="score-bar-fill" style="width:${(val/total)*100}%; background:${profiles[key].color}"></div>
        </div>
      </div>
    `).join('')}

    <hr class="divider">

    <!-- â”€â”€ PROCHAINES Ã‰TAPES â”€â”€ -->
    <div class="next-steps">
      <p class="section-label">ğŸ“¥ Prochaine Ã©tape</p>
      <p>Tu connais ton mode dominant et ton combo.<br>Maintenant : passe au reboot.</p>
     <a class="btn-outline" href="https://www.instagram.com/klea.brainlag/" target="_blank">
  â†’ Rejoindre @klea.brainlag
</a>
<button class="btn-outline" onclick="shareQuiz()">
  â†’ Partager le quiz Ã  mes proches
</button>
<button class="btn-outline" onclick="shareResult('${p1.name}', '${mix ? mix.title : p1.mode}')">
  â†’ Partager mon rÃ©sultat
</button>

</div>
    <hr class="divider">

    <button class="btn" onclick="restartQuiz()" style="background:#1a1a1a; border:1px solid #333; color:#888">
      â†© Recommencer le quiz
    </button>
   
    <button class="btn" onclick="showEndScreen()" style="background:transparent; border:1px solid #222; color:#555; margin-top:8px;">
      â†’ Terminer
    </button>
  `;


  document.getElementById('quizSection').style.display = 'none';
  const resultSection = document.getElementById('resultSection');
  resultSection.style.display = 'block';
  resultSection.innerHTML = html;
  window.scrollTo({ top: 0, behavior: 'smooth' });
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 7. UTILITAIRES
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function shareQuiz() {
  const url = "https://klea-brainlag.github.io/Brainlag-Quiz/";
  if (navigator.share) {
    navigator.share({
      title: "DÃ©couvre ton Brainlag ğŸ§ ",
      text: "Quel est ton mode de protection dominant ? Fais le quiz â†’",
      url: url
    });
  } else {
    navigator.clipboard.writeText(url);
    alert("Lien copiÃ© ! Partage-le Ã  tes proches ğŸ¯");
  }
}

function shareResult(name, combo) {
  const text = `Mon Brainlag dominant : ${name}\nMon combo : ${combo}\nDÃ©couvre le tien â†’ https://klea-brainlag.github.io/Brainlag-Quiz/`;
  if (navigator.share) {
    navigator.share({ title: 'Mon Brainlag', text: text });
  } else {
    navigator.clipboard.writeText(text).then(() => alert('RÃ©sultat copiÃ© ! Tu peux le coller oÃ¹ tu veux.'));
  }
}

function restartQuiz() {
  Object.keys(answers).forEach(k => delete answers[k]);
  document.getElementById('quizSection').style.display = 'block';
  document.getElementById('resultSection').style.display = 'none';
  document.getElementById('progressFill').style.width = '0%';
  renderQuiz();
  window.scrollTo({ top: 0, behavior: 'smooth' });
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 8. INIT
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

renderQuiz();
</script>
</body>
</html>
